{"version":3,"sources":["i18n.js","Context.js","components/Header.js","config.js","components/Axios.js","components/Leaves/DateIntersectionDialog.js","components/Leaves/Signers.js","constants.js","components/Leaves/Approvers.js","components/Leaves/LeaveComment.js","components/Leaves/VacationPeriod.js","components/Leaves/Administrative.js","components/Leaves/AdministrativeFm.js","components/Leaves/Paid.js","components/Leaves/SickNoDoc.js","components/Leaves/SickWithDoc.js","components/Leaves/Social.js","components/Leaves/Study.js","notifications.js","pages/NewRequest.js","components/OtherRequests/ReviewsTable.js","components/RequestTable.js","components/Calendar.js","pages/Home.js","components/RequestFilter.js","pages/MyRequests.js","components/OtherRequests/ReviewsFilter.js","components/OtherRequests/LoadReviewsData.js","components/OtherRequests/Approved.js","components/OtherRequests/NewRequests.js","components/OtherRequests/Rejected.js","pages/OtherRequests.js","components/OtherRequests/RequestActions.js","components/Leaves/ConfirmationDialog.js","pages/PersonalRequest.js","pages/User.js","pages/Login.js","components/Admin/ConfirmationDialog.js","components/Admin/AddNewUserDialog.js","components/Admin/UsersTable.js","pages/Admin.js","App.js","serviceWorker.js","index.js"],"names":["i18n","use","Backend","LanguageDetector","initReactI18next","init","lng","fallbackLng","keySeparator","load","react","useSuspense","Context","React","createContext","Users","memo","useState","anchor","setAnchor","useTranslation","t","useContext","context","setContext","history","useHistory","changeLanguage","language","moment","updateLocale","localEn","localRu","useEffect","AppBar","position","Toolbar","className","onClick","push","Grid","component","container","alignItems","spacing","item","Switch","checked","onChange","role","userId","Avatar","event","currentTarget","substr","toUpperCase","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","anchorEl","keepMounted","open","Boolean","onClose","MenuItem","localStorage","clear","user","token","Button","axiosApi","axios","create","baseURL","interceptors","request","config","headers","Authorization","getItem","convertDate","date","format","toString","getUsers","name","get","deleteUser","id","delete","getAllManagers","getMyRequests","getMyReviews","getMyReviewsByFilter","startDate","endDate","typeId","getStatistics","ConfirmationDialog","isOpen","onOk","onCancel","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogActions","color","autoFocus","options","managers","idx","isDisabled","isEditable","isApproved","Autocomplete","disabled","filter","includes","getOptionSelected","option","value","length","e","newValue","renderInput","params","TextField","array","splice","types","title","states","Approvers","isSendingRequest","prManagers","changeManagers","manager","sign","reviews","find","req","reviewer","firstName","concat","lastName","undefined","mapping","useCallback","map","key","style","display","flexDirection","stateId","indexOf","LeaveComment","comment","changeComment","label","variant","fullWidth","multiline","fromDate","changeFromDate","toDate","changeToDate","disablePeriod","showAllDays","focusedFrom","setFocusFrom","focusedTo","setFocusTo","getDateDifference","Math","floor","showPastDays","showClearDate","readOnly","placeholder","isOutsideRange","isDayBlocked","day","numberOfMonths","onDateChange","focused","onFocusChange","days","Administrative","AdministrativeFm","Paid","useTypes","text","tag","SickNoDoc","duration","changeDuration","FormControl","InputLabel","Select","target","SickWithDoc","Social","Study","defaultOptions","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","notifyLogin","msg","toast","error","success","warn","notifyAdmin","notifyHome","notifyMyRequests","notifyNewRequest","notifyOtherRequests","notifyReviewActions","calendar","leaveType","setLeaveType","setRequestSending","setComment","setFromDate","setToDate","pmanager","setPManager","setDuration","data","setData","isDialogOpen","openDialog","handleSendRequest","flagDateIntersection","replaceAll","reviewerIds","dat","newRequest","isDateIntersectionAllowed","post","reviewsIds","durationId","postNewRequest","_d","then","catch","err","message","response","status","onDialogClose","a","getAllData","reviewerId","rev","typeProps","renderLeaveBody","comp","disableBackdropClick","disableEscapeKeyDown","aria-describedby","type","headCells","headCellsShort","EnhancedTableHead","TableHead","TableRow","headCell","TableCell","align","padding","useStyles","makeStyles","theme","root","width","marginTop","table","visuallyHidden","border","clip","height","margin","overflow","top","ReviewsTable","short","users","classes","page","setPage","rowsPerPage","setRowsPerPage","emptyRows","min","TableContainer","Table","size","aria-label","TableBody","slice","index","labelId","hover","tabIndex","scope","obj","approved","reduce","sum","isApprovedBy","marginRight","colSpan","TablePagination","rowsPerPageOptions","opt","count","setRange","labelRowsPerPage","labelDisplayedRows","from","to","onChangePage","newPage","onChangeRowsPerPage","RequestTable","localize","momentLocalizer","Selectable","args","handleSelect","start","end","window","prompt","setState","events","state","eventStyleGetter","isSelected","JSON","parse","fullName","backgroundColor","this","props","func","selectable","localizer","views","defaultDate","Date","onSelectEvent","onSelectSlot","eventPropGetter","messages","today","previous","next","Component","withTranslation","isNewRequestOpen","setNewRequestState","requests","setRequests","setReviews","setCalendar","setEvents","compareFunc","b","setItem","stringify","sortedData","sort","subData","startDay","endDay","setHours","rew","minWidth","CircularProgress","Calendar","startObj","endObj","handleFilter","setType","handleStateChange","handleTypeChange","MyRequests","statistics","setStatistics","getRequests","getStat","year","getFullYear","myArray","chunk_size","tempArray","chunkArray","arr","findItem","stat","RequestFilter","getMyRequestsByFilter","setName","loadData","setLoading","approvedSetting","loadReviews","isNew","headCellsNew","actions","Approved","isLoading","getData","uploaded","NewRequests","Rejected","TabPanel","children","other","hidden","Box","p","OtherRequests","setValue","Tabs","indicatorColor","textColor","Tab","RequestActions","query","URLSearchParams","useLocation","search","setSending","result","setResult","handleApprove","reviewId","action","body","put","actionReview","PersonalRequest","useParams","setRequest","setEditable","isIntersectDialog","openIntersectDialog","isNewRequestOpened","openNewRequest","dataSet","getRequestById","us","handleChangeRequest","payload","changeRequest","handleDeleteRequest","declineRequest","cancelEditing","goBack","modifiedRequest","routes","path","exact","access","main","User","selectedRoute","setSelectedRoute","setUsers","location","findIndex","pathname","replace","ButtonGroup","orientation","route","disableElevation","render","exect","username","setUsername","password","setPassword","showPassword","setPasswordVisibility","errors","setErrors","helperText","InputProps","endAdornment","InputAdornment","IconButton","Visibility","VisibilityOff","Object","values","onDelete","AddNewUser","roles","updateUsers","setFirstName","setLastName","setRole","email","setEmail","handleAddNewUser","newUser","descendingComparator","orderBy","numeric","disablePadding","order","onRequestSort","sortDirection","TableSortLabel","active","direction","property","useToolbarStyles","paddingLeft","paddingRight","highlight","palette","secondary","lighten","light","primary","dark","flex","EnhancedTableToolbar","openNewUser","setOpenNewUser","Tooltip","EnhancedTable","setOrder","setOrderBy","isEditing","setEditing","setOpen","deletableUser","setDeletableUser","handleDelete","handleChangeRole","changedUser","userName","rowCount","comparator","stabilizedThis","el","stableSort","getComparator","setFilter","handleGetUsers","filterRole","filteredData","App","Provider","hostname","match","ReactDOM","fallback","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.53598d46.chunk.js","sourcesContent":["import i18n from 'i18next';\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\ni18n\r\n  .use(Backend)\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    lng: 'ru', // use ru by default\r\n    fallbackLng: 'en', // use en if detected lng is not available\r\n\r\n    keySeparator: false, // recomend to set to false\r\n\r\n    load: 'languageOnly',\r\n    react: { useSuspense: false },\r\n  });\r\n\r\nexport default i18n;\r\n","import React from 'react';\r\n\r\nexport const Context = React.createContext();\r\n\r\nexport const Users = React.createContext();\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AppBar, Toolbar, Button, Avatar, Menu, MenuItem } from '@material-ui/core';\r\nimport { useTranslation } from 'react-i18next';\r\nimport moment from 'moment';\r\nimport localRu from 'moment/locale/ru';\r\nimport localEn from 'moment/locale/en-gb';\r\n\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { Context } from '../Context';\r\n\r\nfunction Header() {\r\n  const [anchor, setAnchor] = useState(null);\r\n  const { t, i18n } = useTranslation('header');\r\n  const [context, setContext] = useContext(Context);\r\n\r\n  let history = useHistory();\r\n\r\n  const handleClickAvatar = (event) => {\r\n    setAnchor(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseMenu = () => {\r\n    setAnchor(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    setContext({ userId: null, user: null, role: null, token: null });\r\n    setAnchor(null);\r\n    history.push('/login');\r\n  };\r\n\r\n  const toHomePage = () => {\r\n    history.push('/home');\r\n  };\r\n\r\n  const selectedLanguage = (lng) => {\r\n    return lng === 'ru';\r\n  };\r\n\r\n  const changeLanguage = () => {\r\n    const lng = i18n.language === 'ru' ? 'en' : 'ru';\r\n    i18n.changeLanguage(lng);\r\n    moment.updateLocale(lng, lng === 'ru' ? localEn : localRu);\r\n  };\r\n\r\n  useEffect(() => {\r\n    changeLanguage();\r\n  }, []);\r\n\r\n  return (\r\n    <header>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <h2 className=\"title\" onClick={toHomePage}>\r\n            Vacation\r\n          </h2>\r\n          <div className=\"lng__switch\">\r\n            <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\r\n              <Grid item>EN</Grid>\r\n              <Grid item>\r\n                <Switch\r\n                  checked={selectedLanguage(i18n.language)}\r\n                  onChange={() => {\r\n                    changeLanguage();\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item>RU</Grid>\r\n            </Grid>\r\n          </div>\r\n\r\n          {context.role && context.userId ? (\r\n            <>\r\n              <Avatar onClick={handleClickAvatar}>{context.role.substr(0, 2).toUpperCase()}</Avatar>\r\n              <Menu\r\n                elevation={5}\r\n                getContentAnchorEl={null}\r\n                anchorOrigin={{\r\n                  vertical: 'bottom',\r\n                  horizontal: 'center',\r\n                }}\r\n                anchorEl={anchor}\r\n                keepMounted\r\n                open={Boolean(anchor)}\r\n                onClose={handleCloseMenu}>\r\n                {/* <MenuItem onClick={handleCloseMenu}>{t('Profile')}</MenuItem> */}\r\n                <MenuItem onClick={handleLogout}>{t('Logout')}</MenuItem>\r\n              </Menu>\r\n            </>\r\n          ) : (\r\n            <Button className=\"header__login-btn\" onClick={() => history.push('/login')}>\r\n              {t('Login')}\r\n            </Button>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default React.memo(Header);\r\n","import axios from 'axios';\r\nimport moment from 'moment';\r\nimport i18n from './i18n';\r\n\r\nconst BASE_URL = 'https://timeofftrackerwebapi2020.azurewebsites.net/';\r\n\r\nconst axiosApi = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\naxiosApi.interceptors.request.use((config) => {\r\n  config.headers.Authorization = `Bearer ${localStorage.getItem('token')}`;\r\n  config.headers['Accept-Language'] = i18n.language;\r\n  return config;\r\n});\r\n\r\nconst convertDate = (date, lng) => {\r\n  return lng === 'en'\r\n    ? moment(date).format('MM/DD/YYYY').toString()\r\n    : moment(date).format('DD.MM.YYYY').toString();\r\n};\r\n\r\nexport { BASE_URL, axiosApi, convertDate };\r\n","import { axiosApi } from '../config';\r\n\r\nexport const newUser = (newUser) => {\r\n  return axiosApi.post('accounts', newUser);\r\n};\r\n\r\nexport const getUsers = (name, role) => {\r\n  return axiosApi.get(`users?name=${name}&role=${role}`);\r\n};\r\n\r\nexport const getUserById = (id) => {\r\n  return axiosApi.get('users/' + id);\r\n};\r\n\r\nexport const deleteUser = (id) => {\r\n  return axiosApi.delete('users/' + id);\r\n};\r\n\r\nexport const changeUserRole = (changedUser) => {\r\n  return axiosApi.put('users/', changedUser);\r\n};\r\n\r\nexport const getAllManagers = () => {\r\n  return axiosApi.get('users?role=Manager');\r\n};\r\n\r\nexport const getMyRequests = () => {\r\n  return axiosApi.get('user/requests');\r\n};\r\n\r\nexport const getRequestById = (id) => {\r\n  return axiosApi.get('user/requests/' + id);\r\n};\r\n\r\nexport const getMyRequestsByFilter = (startDate, endDate, stateId, typeId) => {\r\n  return axiosApi.get(\r\n    `user/requests?startDate=${startDate}&endDate=${endDate}&stateId=${stateId}&typeId=${typeId}`,\r\n  );\r\n};\r\n\r\nexport const changeRequest = (id, payload) => {\r\n  return axiosApi.put(`requests/${id}`, payload);\r\n};\r\n\r\nexport const declineRequest = (id) => {\r\n  return axiosApi.delete(`user/requests/${id}`);\r\n};\r\n\r\nexport const getMyReviews = () => {\r\n  return axiosApi.get(`user/reviews`);\r\n};\r\n\r\nexport const getMyReviewsByFilter = (startDate, endDate, name, typeId) => {\r\n  return axiosApi.get(\r\n    `user/reviews?startDate=${startDate}&endDate=${endDate}&name=${name}&typeId=${typeId}`,\r\n  );\r\n};\r\n\r\nexport const postNewRequest = (newRequest) => {\r\n  const {\r\n    leaveType,\r\n    fromDate,\r\n    toDate,\r\n    pmanager,\r\n    comment,\r\n    duration,\r\n    userId,\r\n    isDateIntersectionAllowed,\r\n  } = newRequest;\r\n  return axiosApi.post('requests', {\r\n    typeId: leaveType,\r\n    startDate: fromDate,\r\n    endDate: toDate,\r\n    reviewsIds: pmanager,\r\n    comment: comment,\r\n    durationId: duration,\r\n    userId: userId,\r\n    isDateIntersectionAllowed: isDateIntersectionAllowed,\r\n  });\r\n};\r\n\r\nexport const actionReview = (reviewId, isApproved, comment = '') => {\r\n  const body = isApproved\r\n    ? { isApproved: isApproved }\r\n    : { isApproved: isApproved, comment: comment };\r\n  return axiosApi.put(`user/reviews/${reviewId}`, body);\r\n};\r\n\r\nexport const getStatistics = () => {\r\n  return axiosApi.get('statistics');\r\n};\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport default function ConfirmationDialog({ isOpen, onClose, onOk, onCancel }) {\r\n  const { t } = useTranslation('leaves');\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={isOpen} onClose={onClose} aria-labelledby=\"alert-dialog-title\">\r\n        <DialogTitle id=\"alert-dialog-title\">{t('DatesIntersection')}</DialogTitle>\r\n        <DialogContent>\r\n          <span className=\"alert-dialog-description\">{t('DatesIntersectionConfirmation')}</span>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={onOk} color=\"primary\">\r\n            {t('OK')}\r\n          </Button>\r\n          <Button onClick={onCancel} color=\"primary\" autoFocus>\r\n            {t('Cancel')}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { TextField } from '@material-ui/core';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nfunction Signers({ options, managers, onChange, idx, isDisabled, isEditable, isApproved }) {\r\n  const { t } = useTranslation('leaves');\r\n\r\n  return (\r\n    <div className=\"approvers__item\">\r\n      <li>\r\n        <Autocomplete\r\n          className=\"approvers__item-form\"\r\n          disabled={isApproved || isDisabled}\r\n          options={options.filter((item) => !managers.includes(item))}\r\n          getOptionSelected={(option, value) => option.value === value.value}\r\n          value={managers[idx] ? (managers[idx].length === 0 ? null : managers[idx]) : null}\r\n          onChange={(e, newValue) => {\r\n            managers[idx] = newValue !== null ? newValue : '';\r\n            onChange([...managers]);\r\n          }}\r\n          renderInput={(params) => <TextField {...params} />}\r\n        />\r\n      </li>\r\n      {!isEditable && (\r\n        <>\r\n          <button\r\n            className=\"approvers__add-btn\"\r\n            disabled={isApproved === true ? true : isApproved || isDisabled}\r\n            onClick={() => {\r\n              if (options.length < 1 || managers.length === options.length) return;\r\n              let array = [...managers];\r\n              array.splice(idx + 1, 0, '');\r\n              onChange(array);\r\n            }}>\r\n            {t('AddManager')}\r\n          </button>\r\n          <button\r\n            className=\"approvers__delete-btn\"\r\n            disabled={isApproved === true ? true : isApproved || isDisabled}\r\n            onClick={() => {\r\n              if (managers.length === 1) return;\r\n              let array = [...managers];\r\n              array.splice(idx, 1);\r\n              onChange(array);\r\n            }}>\r\n            {t('DeleteManager')}\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(Signers);\r\n","export const types = [\r\n  {\r\n    id: 0,\r\n    title: 'Any',\r\n  },\r\n  {\r\n    id: 1,\r\n    title: 'AdministrativeForceMajeureLeave',\r\n  },\r\n  { id: 2, title: 'AdministrativeLeave' },\r\n  { id: 3, title: 'SocialLeave' },\r\n  { id: 4, title: 'SickLeaveNoDocuments' },\r\n  { id: 5, title: 'SickLeaveWithDocuments' },\r\n  { id: 6, title: 'StudyLeave' },\r\n  { id: 7, title: 'PaidLeave' },\r\n];\r\n\r\nexport const states = ['Any', 'New', 'InProgress', 'Approved', 'Rejected'];\r\n","import React from 'react';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport Signers from './Signers';\r\nimport { states } from '../../constants';\r\n\r\nfunction Approvers({\r\n  managers,\r\n  isSendingRequest,\r\n  prManagers,\r\n  changeManagers,\r\n  request,\r\n  isEditable,\r\n}) {\r\n  const { t } = useTranslation(['leaves', 'roles']);\r\n\r\n  const isApproved = (manager) => {\r\n    const sign = request.reviews.find(\r\n      (req) => req.reviewer.firstName.concat(' ', req.reviewer.lastName) === manager,\r\n    );\r\n    if (sign !== undefined) {\r\n      return sign.isApproved;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const mapping = React.useCallback(\r\n    (managers) => {\r\n      return (\r\n        <>\r\n          {managers.map((manager, idx) => {\r\n            return (\r\n              <div\r\n                key={`div-icon-${idx}`}\r\n                style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'row',\r\n                }}>\r\n                <DoneIcon\r\n                  key={`done-icon-${idx}`}\r\n                  className={`done-icon${\r\n                    request && isApproved(manager) !== null\r\n                      ? isApproved(manager)\r\n                        ? ' accepted'\r\n                        : ' rejected'\r\n                      : ''\r\n                  }`}\r\n                />\r\n                <Signers\r\n                  key={`sign-idx-${idx}`}\r\n                  idx={idx}\r\n                  options={prManagers}\r\n                  managers={managers}\r\n                  onChange={changeManagers}\r\n                  isDisabled={isSendingRequest}\r\n                  isApproved={\r\n                    request &&\r\n                    request.stateId === states.indexOf('InProgress') &&\r\n                    isApproved(manager)\r\n                  }\r\n                  isEditable={isEditable}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </>\r\n      );\r\n    },\r\n    [isSendingRequest, isEditable],\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <h3>{t('Approvers')}</h3>\r\n      <ol className=\"approvers__list\">\r\n        <div className=\"approvers__content\">\r\n          <DoneIcon\r\n            className={\r\n              'done-icon' +\r\n              (request && request.reviews[0].isApproved === true ? ' accepted' : '') +\r\n              (request && request.reviews[0].isApproved === false ? ' rejected' : '')\r\n            }\r\n          />\r\n          <li>{t('roles:Accounting')}</li>\r\n        </div>\r\n        {managers && mapping(managers)}\r\n      </ol>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Approvers;\r\n","import React from 'react';\r\nimport { TextField } from '@material-ui/core';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nfunction LeaveComment({ disabled, comment, changeComment }) {\r\n  const { t } = useTranslation('leaves');\r\n\r\n  return (\r\n    <TextField\r\n      disabled={disabled}\r\n      label={t('Comment')}\r\n      variant=\"standard\"\r\n      fullWidth\r\n      multiline\r\n      className=\"form-comment\"\r\n      value={comment}\r\n      onChange={(e) => changeComment(e)}\r\n    />\r\n  );\r\n}\r\n\r\nexport default LeaveComment;\r\n","import React, { useState } from 'react';\r\nimport 'react-dates/initialize';\r\nimport 'react-dates/lib/css/_datepicker.css';\r\nimport { SingleDatePicker } from 'react-dates';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nfunction VacationPeriod({\r\n  fromDate,\r\n  changeFromDate,\r\n  toDate,\r\n  changeToDate,\r\n  isSendingRequest,\r\n  disablePeriod,\r\n  showAllDays,\r\n}) {\r\n  const [focusedFrom, setFocusFrom] = useState(false);\r\n  const [focusedTo, setFocusTo] = useState(false);\r\n  const { t } = useTranslation('leaves');\r\n\r\n  const getDateDifference = Math.floor((toDate - fromDate) / (1000 * 60 * 60 * 24));\r\n\r\n  const showPastDays = () => false;\r\n\r\n  return (\r\n    <div className=\"period__content\">\r\n      <SingleDatePicker\r\n        id={`dateFrom`}\r\n        disabled={isSendingRequest}\r\n        showClearDate\r\n        readOnly\r\n        placeholder={t('From')}\r\n        isOutsideRange={showAllDays && showPastDays}\r\n        isDayBlocked={(day) => (toDate ? day > toDate : null)}\r\n        numberOfMonths={1}\r\n        date={fromDate}\r\n        onDateChange={(date) => changeFromDate(date)}\r\n        focused={focusedFrom}\r\n        onFocusChange={({ focused }) => setFocusFrom(focused)}\r\n      />\r\n\r\n      <SingleDatePicker\r\n        id={`dateTo`}\r\n        disabled={isSendingRequest}\r\n        showClearDate\r\n        readOnly\r\n        placeholder={t('To')}\r\n        isOutsideRange={showAllDays && showPastDays}\r\n        isDayBlocked={(day) => (fromDate ? day < fromDate : null)}\r\n        numberOfMonths={1}\r\n        date={toDate}\r\n        onDateChange={(date) => changeToDate(date)}\r\n        focused={focusedTo}\r\n        onFocusChange={({ focused }) => setFocusTo(focused)}\r\n      />\r\n\r\n      {!disablePeriod && fromDate && toDate && getDateDifference >= 0 ? (\r\n        <h4>{t('VacationDays', { days: getDateDifference + 1 })}</h4>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(VacationPeriod);\r\n","import React from 'react';\r\n\r\nimport Approvers from './Approvers';\r\nimport LeaveComment from './LeaveComment';\r\nimport VacationPeriod from './VacationPeriod';\r\n\r\nimport { states } from '../../constants';\r\n\r\nfunction Administrative({\r\n  prManagers,\r\n  isSendingRequest,\r\n  comment,\r\n  changeComment,\r\n  fromDate,\r\n  changeFromDate,\r\n  toDate,\r\n  changeToDate,\r\n  managers,\r\n  changeManagers,\r\n  isEditable,\r\n  request,\r\n}) {\r\n  return (\r\n    <div>\r\n      <VacationPeriod\r\n        fromDate={fromDate}\r\n        changeFromDate={changeFromDate}\r\n        toDate={toDate}\r\n        changeToDate={changeToDate}\r\n        isSendingRequest={\r\n          (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n          isSendingRequest\r\n        }\r\n      />\r\n\r\n      <LeaveComment\r\n        disabled={\r\n          (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n          isSendingRequest\r\n        }\r\n        comment={comment}\r\n        changeComment={changeComment}\r\n      />\r\n\r\n      <Approvers\r\n        managers={managers}\r\n        isSendingRequest={isEditable || isSendingRequest}\r\n        prManagers={prManagers}\r\n        changeManagers={changeManagers}\r\n        request={request}\r\n        isEditable={isEditable}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Administrative;\r\n","import React from 'react';\r\n\r\nimport Approvers from './Approvers';\r\nimport LeaveComment from './LeaveComment';\r\nimport VacationPeriod from './VacationPeriod';\r\nimport { states } from '../../constants';\r\n\r\nfunction AdministrativeFm({\r\n  isSendingRequest,\r\n  comment,\r\n  changeComment,\r\n  fromDate,\r\n  changeFromDate,\r\n  toDate,\r\n  changeToDate,\r\n  request,\r\n  isEditable,\r\n}) {\r\n  return (\r\n    <div>\r\n      <VacationPeriod\r\n        fromDate={fromDate}\r\n        changeFromDate={changeFromDate}\r\n        toDate={toDate}\r\n        changeToDate={changeToDate}\r\n        isSendingRequest={\r\n          (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n          isSendingRequest\r\n        }\r\n      />\r\n\r\n      <LeaveComment\r\n        disabled={\r\n          (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n          isSendingRequest\r\n        }\r\n        comment={comment}\r\n        changeComment={changeComment}\r\n      />\r\n\r\n      <Approvers />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdministrativeFm;\r\n","import React from 'react';\r\n\r\nimport Approvers from './Approvers';\r\nimport LeaveComment from './LeaveComment';\r\nimport VacationPeriod from './VacationPeriod';\r\nimport { states } from '../../constants';\r\n\r\nfunction Paid({\r\n  prManagers,\r\n  isSendingRequest,\r\n  comment,\r\n  changeComment,\r\n  fromDate,\r\n  changeFromDate,\r\n  toDate,\r\n  changeToDate,\r\n  managers,\r\n  changeManagers,\r\n  request,\r\n  isEditable,\r\n}) {\r\n  return (\r\n    <div>\r\n      <VacationPeriod\r\n        fromDate={fromDate}\r\n        changeFromDate={changeFromDate}\r\n        toDate={toDate}\r\n        changeToDate={changeToDate}\r\n        isSendingRequest={\r\n          (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n          isSendingRequest\r\n        }\r\n      />\r\n\r\n      <LeaveComment\r\n        disabled={\r\n          (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n          isSendingRequest\r\n        }\r\n        comment={comment}\r\n        changeComment={changeComment}\r\n      />\r\n\r\n      <Approvers\r\n        managers={managers}\r\n        isSendingRequest={isEditable || isSendingRequest}\r\n        prManagers={prManagers}\r\n        changeManagers={changeManagers}\r\n        request={request}\r\n        isEditable={isEditable}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Paid;\r\n","import React, { useState } from 'react';\r\nimport { FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\nimport 'react-dates/initialize';\r\nimport 'react-dates/lib/css/_datepicker.css';\r\nimport { SingleDatePicker } from 'react-dates';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport Approvers from './Approvers';\r\nimport LeaveComment from './LeaveComment';\r\n\r\nimport { states } from '../../constants';\r\n\r\nconst useTypes = [\r\n  { id: 1, text: 'Half day', tag: 'HalfDay' },\r\n  { id: 2, text: 'Full day', tag: 'FullDay' },\r\n];\r\n\r\nfunction SickNoDoc({\r\n  isSendingRequest,\r\n  comment,\r\n  changeComment,\r\n  fromDate,\r\n  changeFromDate,\r\n  toDate,\r\n  changeToDate,\r\n  duration,\r\n  changeDuration,\r\n  request,\r\n  isEditable,\r\n}) {\r\n  const [focusedFrom, setFocusFrom] = useState(false);\r\n  const [focusedTo, setFocusTo] = useState(false);\r\n  const { t } = useTranslation('leaves');\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"nodoc__content\">\r\n        <SingleDatePicker\r\n          id=\"dateFrom\"\r\n          disabled={\r\n            (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n            isSendingRequest\r\n          }\r\n          showClearDate\r\n          readOnly\r\n          placeholder={t('From')}\r\n          numberOfMonths={1}\r\n          date={fromDate}\r\n          onDateChange={(date) => {\r\n            changeFromDate(date);\r\n            changeToDate(date);\r\n          }}\r\n          focused={focusedFrom}\r\n          onFocusChange={({ focused }) => setFocusFrom(focused)}\r\n        />\r\n\r\n        <SingleDatePicker\r\n          id=\"dateTo\"\r\n          disabled={\r\n            (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n            isSendingRequest\r\n          }\r\n          showClearDate\r\n          readOnly\r\n          placeholder={t('To')}\r\n          numberOfMonths={1}\r\n          date={fromDate}\r\n          onDateChange={(date) => {\r\n            changeFromDate(date);\r\n            changeToDate(date);\r\n          }}\r\n          focused={focusedTo}\r\n          onFocusChange={({ focused }) => setFocusTo(focused)}\r\n        />\r\n\r\n        <FormControl className=\"sick-no-doc__use\">\r\n          <InputLabel>{t('Use')}</InputLabel>\r\n          <Select\r\n            disabled={\r\n              (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n              isSendingRequest\r\n            }\r\n            value={duration}\r\n            onChange={(e) => changeDuration(e.target.value)}>\r\n            {useTypes.map((use, idx) => (\r\n              <MenuItem key={`use-${use.text}-idx-${idx}`} value={use.id}>\r\n                {t(use.tag)}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      </div>\r\n\r\n      <LeaveComment\r\n        disabled={\r\n          (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n          isSendingRequest\r\n        }\r\n        comment={comment}\r\n        changeComment={changeComment}\r\n      />\r\n\r\n      <Approvers />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SickNoDoc;\r\n","import React from 'react';\r\n\r\nimport Approvers from './Approvers';\r\nimport LeaveComment from './LeaveComment';\r\nimport VacationPeriod from './VacationPeriod';\r\n\r\nimport { states } from '../../constants';\r\n\r\nfunction SickWithDoc({\r\n  isSendingRequest,\r\n  comment,\r\n  changeComment,\r\n  fromDate,\r\n  changeFromDate,\r\n  toDate,\r\n  changeToDate,\r\n  request,\r\n  isEditable,\r\n}) {\r\n  return (\r\n    <div>\r\n      <VacationPeriod\r\n        fromDate={fromDate}\r\n        changeFromDate={changeFromDate}\r\n        toDate={toDate}\r\n        changeToDate={changeToDate}\r\n        isSendingRequest={\r\n          (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n          isSendingRequest\r\n        }\r\n      />\r\n\r\n      <LeaveComment\r\n        disabled={\r\n          (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n          isSendingRequest\r\n        }\r\n        comment={comment}\r\n        changeComment={changeComment}\r\n      />\r\n\r\n      <Approvers />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SickWithDoc;\r\n","import React from 'react';\r\n\r\nimport Approvers from './Approvers';\r\nimport LeaveComment from './LeaveComment';\r\nimport VacationPeriod from './VacationPeriod';\r\n\r\nimport { states } from '../../constants';\r\n\r\nfunction Social({\r\n  isSendingRequest,\r\n  comment,\r\n  changeComment,\r\n  fromDate,\r\n  changeFromDate,\r\n  toDate,\r\n  changeToDate,\r\n  request,\r\n  isEditable,\r\n}) {\r\n  return (\r\n    <div>\r\n      <VacationPeriod\r\n        fromDate={fromDate}\r\n        changeFromDate={changeFromDate}\r\n        toDate={toDate}\r\n        changeToDate={changeToDate}\r\n        isSendingRequest={\r\n          (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n          isSendingRequest\r\n        }\r\n      />\r\n\r\n      <LeaveComment\r\n        disabled={\r\n          (request && (request.stateId === states.indexOf('InProgress') ? true : isEditable)) ||\r\n          isSendingRequest\r\n        }\r\n        comment={comment}\r\n        changeComment={changeComment}\r\n      />\r\n\r\n      <Approvers />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Social;\r\n","import React from 'react';\r\n\r\nimport Approvers from './Approvers';\r\nimport LeaveComment from './LeaveComment';\r\nimport VacationPeriod from './VacationPeriod';\r\n\r\nimport { states } from '../../constants';\r\n\r\nfunction Study({\r\n  prManagers,\r\n  isSendingRequest,\r\n  comment,\r\n  changeComment,\r\n  fromDate,\r\n  changeFromDate,\r\n  toDate,\r\n  changeToDate,\r\n  managers,\r\n  changeManagers,\r\n  isEditable,\r\n  request,\r\n}) {\r\n  return (\r\n    <div>\r\n      <VacationPeriod\r\n        fromDate={fromDate}\r\n        changeFromDate={changeFromDate}\r\n        toDate={toDate}\r\n        changeToDate={changeToDate}\r\n        isSendingRequest={\r\n          request\r\n            ? (request.stateId === states.indexOf('InProgress') ? true : isEditable) ||\r\n              isSendingRequest\r\n            : isSendingRequest\r\n        }\r\n      />\r\n\r\n      <LeaveComment\r\n        disabled={\r\n          request\r\n            ? (request.stateId === states.indexOf('InProgress') ? true : isEditable) ||\r\n              isSendingRequest\r\n            : isSendingRequest\r\n        }\r\n        comment={comment}\r\n        changeComment={changeComment}\r\n      />\r\n\r\n      <Approvers\r\n        managers={managers}\r\n        isSendingRequest={isEditable || isSendingRequest}\r\n        prManagers={prManagers}\r\n        changeManagers={changeManagers}\r\n        request={request}\r\n        isEditable={isEditable}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Study;\r\n","import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport i18n from './i18n';\r\n\r\nconst defaultOptions = {\r\n  position: 'bottom-center',\r\n  autoClose: 5000,\r\n  hideProgressBar: false,\r\n  closeOnClick: true,\r\n  pauseOnHover: true,\r\n  draggable: true,\r\n  progress: undefined,\r\n};\r\n\r\nexport const notifyLogin = (msg) => {\r\n  switch (msg) {\r\n    case 'Network Error':\r\n      return toast.error(i18n.t('notifications:NoConnection'), defaultOptions);\r\n\r\n    case '400':\r\n      return toast.error(i18n.t('notifications:BadRequest'), defaultOptions);\r\n\r\n    case 'Successful Login':\r\n      return toast.success(i18n.t('notifications:LoginSuccess'), defaultOptions);\r\n\r\n    default:\r\n      return toast.warn(i18n.t('notifications:SomethingWrong'), defaultOptions);\r\n  }\r\n};\r\n\r\nexport const notifyAdmin = (msg) => {\r\n  switch (msg) {\r\n    case 'Network Error':\r\n      return toast.error(i18n.t('notifications:NoConnection'), defaultOptions);\r\n\r\n    case '400':\r\n      return toast.error(i18n.t('notifications:BadRequest'), defaultOptions);\r\n\r\n    case 'test':\r\n      return toast.error(i18n.t('notifications:NoConnection'), defaultOptions);\r\n\r\n    case 'Successful New User Adding':\r\n      return toast.success(i18n.t('notifications:NewUserAdded'), defaultOptions);\r\n\r\n    case 'New user failure':\r\n      return toast.error(i18n.t('notifications:NewUserFail'), defaultOptions);\r\n\r\n    case 'Role changed success':\r\n      return toast.success(i18n.t('notifications:ChangeRole'), defaultOptions);\r\n\r\n    case 'Role changed failed':\r\n      return toast.error(i18n.t('notifications:ChangeRoleFail'), defaultOptions);\r\n\r\n    case 'User delete success':\r\n      return toast.success(i18n.t('notifications:DeleteUser'), defaultOptions);\r\n\r\n    case 'User delete failed':\r\n      return toast.error(i18n.t('notifications:DeleteUserFail'), defaultOptions);\r\n\r\n    default:\r\n      return toast.warn(i18n.t('notifications:SomethingWrong'), defaultOptions);\r\n  }\r\n};\r\n\r\nexport const notifyHome = (msg) => {\r\n  switch (msg) {\r\n    case 'Network Error':\r\n      return toast.error(i18n.t('notifications:NoConnection'), defaultOptions);\r\n\r\n    case '400':\r\n      return toast.error(i18n.t('notifications:BadRequest'), defaultOptions);\r\n\r\n    default:\r\n      return toast.warn(i18n.t('notifications:SomethingWrong'), defaultOptions);\r\n  }\r\n};\r\n\r\nexport const notifyMyRequests = (msg) => {\r\n  switch (msg) {\r\n    case 'Network Error':\r\n      return toast.error(i18n.t('notifications:NoConnection'), defaultOptions);\r\n    case 'NoApprovedCorrectytion':\r\n      return toast.warn(i18n.t('notifications:NoApprovedCorrectytion'), defaultOptions);\r\n    case '400':\r\n      return toast.error(i18n.t('notifications:BadRequest'), defaultOptions);\r\n    case 'Edited':\r\n      return toast.success(i18n.t('notifications:Edited'), defaultOptions);\r\n    case 'NotEdited':\r\n      return toast.error(i18n.t('notifications:NotEdited'), defaultOptions);\r\n    default:\r\n      return toast.warn(i18n.t('notifications:SomethingWrong'), defaultOptions);\r\n  }\r\n};\r\n\r\nexport const notifyNewRequest = (msg) => {\r\n  switch (msg) {\r\n    case 'Network Error':\r\n      return toast.error(i18n.t('notifications:NoConnection'), defaultOptions);\r\n    case '400':\r\n      return toast.error(i18n.t('notifications:BadRequest'), defaultOptions);\r\n    case 'Empty managers':\r\n      return toast.error(i18n.t('notifications:EmptyManagers'), defaultOptions);\r\n    case 'Empty dates':\r\n      return toast.error(i18n.t('notifications:EmptyDates'), defaultOptions);\r\n    case 'Empty comment':\r\n      return toast.error(i18n.t('notifications:NoComment'), defaultOptions);\r\n    case 'New request success':\r\n      return toast.success(i18n.t('notifications:NewRequest'), defaultOptions);\r\n\r\n    case 'New request failed':\r\n      return toast.error(i18n.t('notifications:NewRequestFail'), defaultOptions);\r\n\r\n    default:\r\n      return toast.warn(i18n.t('notifications:SomethingWrong'), defaultOptions);\r\n  }\r\n};\r\n\r\nexport const notifyOtherRequests = (msg) => {\r\n  switch (msg) {\r\n    case 'Network Error':\r\n      return toast.error(i18n.t('notifications:NoConnection'), defaultOptions);\r\n\r\n    case '400':\r\n      return toast.error(i18n.t('notifications:BadRequest'), defaultOptions);\r\n\r\n    default:\r\n      return toast.warn(i18n.t('notifications:SomethingWrong'), defaultOptions);\r\n  }\r\n};\r\n\r\nexport const notifyReviewActions = (msg) => {\r\n  switch (msg) {\r\n    case 'Network Error':\r\n      return toast.error(i18n.t('notifications:NoConnection'), defaultOptions);\r\n    case '400':\r\n      return toast.error(i18n.t('notifications:BadRequest'), defaultOptions);\r\n    case 'Approve success':\r\n      return toast.success(i18n.t('notifications:ApproveRequest'), defaultOptions);\r\n    case 'Approve failed':\r\n      return toast.error(i18n.t('notifications:ApproveFail'), defaultOptions);\r\n    case 'Rejection success':\r\n      return toast.success(i18n.t('notifications:RejectRequest'), defaultOptions);\r\n    case 'Rejection failed':\r\n      return toast.error(i18n.t('notifications:RejectFail'), defaultOptions);\r\n    case 'No comment':\r\n      return toast.error(i18n.t('notifications:NoComment'), defaultOptions);\r\n    default:\r\n      return toast.warn(i18n.t('notifications:SomethingWrong'), defaultOptions);\r\n  }\r\n};\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { Button, Select, MenuItem, FormControl, InputLabel } from '@material-ui/core';\r\nimport moment from 'moment';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { Context } from '../Context';\r\nimport { postNewRequest, getAllManagers } from '../components/Axios';\r\nimport DateIntersectionDialog from '../components/Leaves/DateIntersectionDialog';\r\n\r\nimport {\r\n  Administrative,\r\n  AdministrativeFm,\r\n  Paid,\r\n  SickNoDoc,\r\n  SickWithDoc,\r\n  Social,\r\n  Study,\r\n} from '../components/Leaves/index';\r\nimport { notifyNewRequest } from '../notifications';\r\n\r\nlet prManagers = [];\r\n\r\nconst accountantId = 1;\r\n\r\nfunction NewRequest({ isOpen, onClose, calendar, request }) {\r\n  const [context, setContext] = useContext(Context);\r\n  const [leaveType, setLeaveType] = useState(6);\r\n  const [isSendingRequest, setRequestSending] = useState(false);\r\n  const [comment, setComment] = useState('');\r\n  const [fromDate, setFromDate] = useState(null);\r\n  const [toDate, setToDate] = useState(null);\r\n  const [pmanager, setPManager] = useState(['']);\r\n  const [duration, setDuration] = useState(2);\r\n  const [data, setData] = useState(null);\r\n  const [isDialogOpen, openDialog] = useState(false);\r\n  const { t } = useTranslation(['translation', 'requests', 'notifications']);\r\n\r\n  const handleComment = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n\r\n  const handleFromDate = (date) => {\r\n    setFromDate(date);\r\n  };\r\n\r\n  const handleToDate = (date) => {\r\n    setToDate(date);\r\n  };\r\n\r\n  const handleManagers = (array) => {\r\n    setPManager(array);\r\n  };\r\n\r\n  const handleSendRequest = (flagDateIntersection) => {\r\n    setRequestSending(true);\r\n\r\n    if (!fromDate || !toDate) {\r\n      notifyNewRequest('Empty dates');\r\n      setRequestSending(false);\r\n      return;\r\n    }\r\n\r\n    if ([2, 4, 5, 7].includes(leaveType) && comment.replaceAll(' ', '').length === 0) {\r\n      notifyNewRequest('Empty comment');\r\n      setRequestSending(false);\r\n      return;\r\n    }\r\n\r\n    if ([2, 6, 7].includes(leaveType) && pmanager.includes('')) {\r\n      notifyNewRequest('Empty managers');\r\n      setRequestSending(false);\r\n      return;\r\n    }\r\n\r\n    const reviewerIds =\r\n      pmanager.length > 0 && pmanager[0] !== ''\r\n        ? pmanager.map((item) => {\r\n            return data.find((dat) => dat.firstName.concat(' ', dat.lastName) === item).id;\r\n          })\r\n        : null;\r\n\r\n    postNewRequest({\r\n      leaveType,\r\n      fromDate: moment(fromDate._d).format('YYYY-MM-DD').toString(),\r\n      toDate: moment(toDate._d).format('YYYY-MM-DD').toString(),\r\n      pmanager: reviewerIds !== null ? [1, ...reviewerIds] : [1],\r\n      comment,\r\n      duration,\r\n      userId: context.userId,\r\n      isDateIntersectionAllowed: flagDateIntersection,\r\n    })\r\n      .then(({ data }) => {\r\n        setRequestSending(false);\r\n        notifyNewRequest('New request success');\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyNewRequest('Network Error');\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyNewRequest('400');\r\n        } else if (err.response && err.response.status === 409) {\r\n          if (err.response.data === 'Dates intersection') {\r\n            openDialog(true);\r\n          } else {\r\n            notifyNewRequest('');\r\n          }\r\n        } else {\r\n          notifyNewRequest('New request failed');\r\n        }\r\n\r\n        setRequestSending(false);\r\n      });\r\n    openDialog(false);\r\n  };\r\n\r\n  const handleDuration = (duration) => {\r\n    setDuration(duration);\r\n  };\r\n\r\n  const onDialogClose = () => {\r\n    openDialog(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function getAllData() {\r\n      await getAllManagers().then(({ data }) => {\r\n        setData(data);\r\n        prManagers = data.map((item) => {\r\n          return item.firstName.concat(' ', item.lastName);\r\n        });\r\n      });\r\n    }\r\n    getAllData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (request) {\r\n      const managers = request.reviews\r\n        .filter((item) => item.reviewerId !== accountantId)\r\n        .map((rev) => rev.reviewer.firstName.concat(' ', rev.reviewer.lastName));\r\n      setPManager(managers);\r\n      setFromDate(moment(request.startDate));\r\n      setToDate(moment(request.endDate));\r\n      setDuration(request.durationId);\r\n      setComment(request.comment);\r\n      setLeaveType(request.typeId);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (calendar) {\r\n      setFromDate(calendar[0]);\r\n      setToDate(calendar[1]);\r\n    }\r\n  }, [calendar]);\r\n\r\n  const typeProps = {\r\n    prManagers: prManagers,\r\n    isSendingRequest: isSendingRequest,\r\n    comment: comment,\r\n    changeComment: handleComment,\r\n    fromDate: fromDate,\r\n    changeFromDate: handleFromDate,\r\n    toDate: toDate,\r\n    changeToDate: handleToDate,\r\n    managers: pmanager,\r\n    changeManagers: handleManagers,\r\n    duration: duration,\r\n    changeDuration: handleDuration,\r\n  };\r\n\r\n  const renderLeaveBody = [\r\n    {\r\n      id: 1,\r\n      title: 'AdministrativeForceMajeureLeave',\r\n      comp: <AdministrativeFm {...typeProps} />,\r\n    },\r\n    { id: 2, title: 'AdministrativeLeave', comp: <Administrative {...typeProps} /> },\r\n    { id: 3, title: 'SocialLeave', comp: <Social {...typeProps} /> },\r\n    { id: 4, title: 'SickLeaveNoDocuments', comp: <SickNoDoc {...typeProps} /> },\r\n    { id: 5, title: 'SickLeaveWithDocuments', comp: <SickWithDoc {...typeProps} /> },\r\n    { id: 6, title: 'StudyLeave', comp: <Study {...typeProps} /> },\r\n    { id: 7, title: 'PaidLeave', comp: <Paid {...typeProps} /> },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        disableBackdropClick\r\n        disableEscapeKeyDown\r\n        open={isOpen}\r\n        onClose={onClose}\r\n        aria-labelledby=\"new-request-title\"\r\n        aria-describedby=\"new-request-description\">\r\n        <DialogTitle id=\"new-request-title\">{t('requests:NewRequest')}</DialogTitle>\r\n        <DialogContent className=\"leave\">\r\n          <FormControl disabled={isSendingRequest} className=\"leave__type\">\r\n            <InputLabel>{t('requests:LeaveType')}</InputLabel>\r\n            <Select\r\n              value={leaveType}\r\n              onChange={(e) => {\r\n                setLeaveType(e.target.value);\r\n                setPManager(['']);\r\n              }}>\r\n              {renderLeaveBody.map((type, idx) => (\r\n                <MenuItem key={`${type.title}-${idx}`} value={type.id}>\r\n                  {t(type.title)}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n\r\n          {renderLeaveBody[leaveType - 1].comp}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            className=\"new-request__ok-btn\"\r\n            variant=\"contained\"\r\n            disabled={isSendingRequest}\r\n            onClick={() => handleSendRequest(false)}>\r\n            {t('requests:SendRequest')}\r\n          </Button>\r\n          <Button\r\n            className=\"new-request__cancel-btn\"\r\n            variant=\"contained\"\r\n            disabled={isSendingRequest}\r\n            onClick={onClose}\r\n            autoFocus>\r\n            {t('requests:Cancel')}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <DateIntersectionDialog\r\n        isOpen={isDialogOpen}\r\n        onClose={onDialogClose}\r\n        onOk={() => handleSendRequest(true)}\r\n        onCancel={() => {\r\n          setRequestSending(false);\r\n          onDialogClose();\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(NewRequest);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n  Button,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n} from '@material-ui/core';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { convertDate } from '../../config';\r\nimport { types } from '../../constants';\r\n\r\nconst headCells = [\r\n  { id: 'From', label: 'From' },\r\n  { id: 'Role', label: 'Role' },\r\n  { id: 'Type', label: 'Type' },\r\n  { id: 'Dates', label: 'Dates' },\r\n  { id: 'Comments', label: 'RequestComments' },\r\n  { id: 'Details', label: 'StateDetails' },\r\n];\r\n\r\nconst headCellsShort = [\r\n  { id: 'From', label: 'From' },\r\n  { id: 'Type', label: 'Type' },\r\n  { id: 'Dates', label: 'Dates' },\r\n  { id: 'Comments', label: 'RequestComments' },\r\n];\r\n\r\nfunction EnhancedTableHead({ headCells, t }) {\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={`table-cell-${headCell.id}`}\r\n            className=\"reviews__table-cell\"\r\n            align=\"center\"\r\n            padding=\"default\">\r\n            {t(headCell.label)}\r\n          </TableCell>\r\n        ))}\r\n\r\n        <TableCell className=\"reviews__table-cell\" align=\"center\" padding=\"default\">\r\n          {t('Actions')}\r\n        </TableCell>\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: '10px',\r\n    //margin: '0 auto',\r\n  },\r\n  table: {\r\n    width: '100%',\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: 'rect(0 0 0 0)',\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: 'hidden',\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function ReviewsTable({ data, short, users }) {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n  const { t, i18n } = useTranslation(['reviews', 'translation', 'roles', 'notifications']);\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const setRange = () => {\r\n    if (data) {\r\n      let array = [];\r\n      const opt = short ? 3 : 5;\r\n      const count = Math.floor(data.length / opt);\r\n\r\n      for (let index = 1; index < count + 1; index++) {\r\n        array.push(opt * index);\r\n      }\r\n      data.length !== array[array.length - 1] && array.push(data.length);\r\n      return array;\r\n    }\r\n  };\r\n\r\n  const joinData = () => {\r\n    const joinedData = data.map((item) => {\r\n      item.request.reviews.map(\r\n        (item) => (item.reviewer = users.find((user) => user.id === item.reviewerId)),\r\n      );\r\n      item.request.user = users.find((user) => user.id === item.request.userId);\r\n      return item;\r\n    });\r\n    return joinedData;\r\n  };\r\n\r\n  const isApprovedBy = (obj) => {\r\n    const { reviews } = obj.request;\r\n    const approved = reviews.reduce((sum, item) => {\r\n      if (item.isApproved) {\r\n        return `${sum} ${item.reviewer.firstName.concat(' ', item.reviewer.lastName)},`;\r\n      }\r\n      return sum;\r\n    }, '');\r\n    return approved ? `${t('AlreadyApproved')}: ${approved.slice(0, -1)}` : '';\r\n  };\r\n\r\n  const emptyRows = data && rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage);\r\n\r\n  useEffect(() => {\r\n    if (short) setRowsPerPage(3);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {data ? (\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size={'medium'}\r\n            aria-label=\"enhanced table\">\r\n            <EnhancedTableHead headCells={short ? headCellsShort : headCells} t={t} />\r\n            <TableBody>\r\n              {joinData()\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((item, index) => {\r\n                  const labelId = `enhanced-table-${index}`;\r\n\r\n                  return (\r\n                    <TableRow\r\n                      className=\"reviews__users-table-row\"\r\n                      hover\r\n                      tabIndex={-1}\r\n                      key={item.id}>\r\n                      <TableCell\r\n                        component=\"th\"\r\n                        align=\"center\"\r\n                        id={labelId}\r\n                        scope=\"row\"\r\n                        padding=\"none\">\r\n                        {item.request.user.firstName.concat(' ', item.request.user.lastName)}\r\n                      </TableCell>\r\n                      {short ? null : (\r\n                        <TableCell align=\"center\">{t(`roles:${item.request.user.role}`)}</TableCell>\r\n                      )}\r\n                      <TableCell align=\"center\">\r\n                        {t('translation:' + types[item.request.typeId].title)}\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        {convertDate(item.request.startDate, i18n.language)} -{' '}\r\n                        {convertDate(item.request.endDate, i18n.language)}\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">{item.request.comment}</TableCell>\r\n                      {short ? null : <TableCell align=\"center\">{isApprovedBy(item)}</TableCell>}\r\n                      <TableCell align=\"center\">\r\n                        <Button\r\n                          className=\"reviews-table__ok-btn\"\r\n                          variant=\"contained\"\r\n                          style={{ marginRight: 10 }}\r\n                          onClick={() => {\r\n                            history.push(\r\n                              `/other_requests/actions?review=${item.id}&action=approve`,\r\n                            );\r\n                          }}>\r\n                          {t('Accept')}\r\n                        </Button>\r\n                        <Button\r\n                          className=\"reviews-table__cancel-btn\"\r\n                          variant=\"contained\"\r\n                          onClick={() => {\r\n                            history.push(`/other_requests/actions?review=${item.id}&action=reject`);\r\n                          }}>\r\n                          {t('Reject')}\r\n                        </Button>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: 33 * emptyRows }}>\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n          <TablePagination\r\n            rowsPerPageOptions={short ? [3] : setRange()}\r\n            component=\"div\"\r\n            count={data.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            labelRowsPerPage={t('LabelRowsPerPage')}\r\n            labelDisplayedRows={({ from, to, count }) =>\r\n              t('LabelDisplayedRows', { from: from, to: to, count: count })\r\n            }\r\n            onChangePage={handleChangePage}\r\n            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n          />\r\n        </TableContainer>\r\n      ) : (\r\n        <p>{t('NoData')}</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n  Button,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n} from '@material-ui/core';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { convertDate } from '../config';\r\nimport { types, states } from '../constants';\r\n\r\nconst headCells = [\r\n  { id: 'State', label: 'State' },\r\n  { id: 'Type', label: 'Type' },\r\n  { id: 'Dates', label: 'Dates' },\r\n  { id: 'MyComment', label: 'MyComment' },\r\n  { id: 'Details', label: 'StateDetails' },\r\n  { id: 'View', label: 'View' },\r\n];\r\n\r\nconst headCellsShort = [\r\n  { id: 'State', label: 'State' },\r\n  { id: 'Type', label: 'Type' },\r\n  { id: 'Dates', label: 'Dates' },\r\n  { id: 'Details', label: 'StateDetails' },\r\n];\r\n\r\nfunction EnhancedTableHead({ headCells, t }) {\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={`table-cell-${headCell.id}`}\r\n            className=\"reviews__table-cell\"\r\n            align=\"center\"\r\n            padding=\"default\">\r\n            {t('requests:' + headCell.label)}\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: '10px',\r\n    //margin: '0 auto',\r\n  },\r\n  table: {\r\n    width: '100%',\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: 'rect(0 0 0 0)',\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: 'hidden',\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function RequestTable({ data, short, users }) {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n  const { t, i18n } = useTranslation(['translation', 'requests', 'notifications']);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const setRange = () => {\r\n    if (data) {\r\n      let array = [];\r\n      const count = Math.floor(data.length / 5);\r\n\r\n      for (let index = 1; index < count + 1; index++) {\r\n        array.push(5 * index);\r\n      }\r\n      data.length !== array[array.length - 1] && array.push(data.length);\r\n      return array;\r\n    }\r\n  };\r\n\r\n  const joinData = () => {\r\n    const joinedData = data.map((item) => {\r\n      item.reviews.map(\r\n        (item) => (item.reviewer = users.find((user) => user.id === item.reviewerId)),\r\n      );\r\n      item.user = users.find((user) => user.id === item.userId);\r\n      return item;\r\n    });\r\n    return joinedData;\r\n  };\r\n\r\n  const isApprovedBy = (obj) => {\r\n    const { reviews } = obj;\r\n    const approved = reviews.reduce((sum, item) => {\r\n      if (item.isApproved) {\r\n        return `${sum} ${item.reviewer.firstName.concat(' ', item.reviewer.lastName)},`;\r\n      }\r\n      return sum;\r\n    }, '');\r\n    return approved ? `${t('requests:AlreadyApproved')}: ${approved.slice(0, -1)}` : '';\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {data ? (\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size={'medium'}\r\n            aria-label=\"enhanced table\">\r\n            <EnhancedTableHead headCells={short ? headCellsShort : headCells} t={t} />\r\n            <TableBody>\r\n              {joinData()\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((item, index) => {\r\n                  const labelId = `enhanced-table-${index}`;\r\n\r\n                  return (\r\n                    <TableRow\r\n                      className=\"reviews__users-table-row\"\r\n                      hover\r\n                      tabIndex={-1}\r\n                      key={item.id}>\r\n                      <TableCell\r\n                        component=\"th\"\r\n                        align=\"center\"\r\n                        id={labelId}\r\n                        scope=\"row\"\r\n                        padding=\"none\">\r\n                        {t(states[item.stateId])}\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">{t(types[item.typeId].title)}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        {convertDate(item.startDate, i18n.language)} -{' '}\r\n                        {convertDate(item.endDate, i18n.language)}\r\n                      </TableCell>\r\n                      {short ? null : <TableCell align=\"center\">{item.comment}</TableCell>}\r\n                      <TableCell align=\"center\">\r\n                        {item.stateId === 4\r\n                          ? `${t('requests:RejectionReason')}: ${\r\n                              item.reviews.find((rev) => rev.isApproved === false)\r\n                                ? item.reviews.find((rev) => rev.isApproved === false).comment\r\n                                : t('requests:RejectedByOwner')\r\n                            }`\r\n                          : isApprovedBy(item)}\r\n                      </TableCell>\r\n                      {short ? null : (\r\n                        <TableCell align=\"center\">\r\n                          <Button\r\n                            className=\"reviews-table__ok-btn\"\r\n                            variant=\"contained\"\r\n                            style={{ marginRight: 10 }}\r\n                            onClick={() => {\r\n                              history.push('/my_requests/' + item.id);\r\n                            }}>\r\n                            {t('requests:View')}\r\n                          </Button>\r\n                        </TableCell>\r\n                      )}\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n            </TableBody>\r\n          </Table>\r\n          {short ? null : (\r\n            <TablePagination\r\n              rowsPerPageOptions={setRange()}\r\n              component=\"div\"\r\n              count={data.length}\r\n              rowsPerPage={rowsPerPage}\r\n              page={page}\r\n              labelRowsPerPage={t('requests:LabelRowsPerPage')}\r\n              labelDisplayedRows={({ from, to, count }) =>\r\n                t('requests:LabelDisplayedRows', { from: from, to: to, count: count })\r\n              }\r\n              onChangePage={handleChangePage}\r\n              onChangeRowsPerPage={handleChangeRowsPerPage}\r\n            />\r\n          )}\r\n        </TableContainer>\r\n      ) : (\r\n        <p>{t('requests:NoData')}</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\r\nimport moment from 'moment';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nconst localize = momentLocalizer(moment);\r\n\r\nclass Selectable extends React.Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.state = {\r\n      events: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ events: this.props.events });\r\n  }\r\n\r\n  handleSelect = ({ start, end }) => {\r\n    const title = window.prompt('New Event name');\r\n    if (title)\r\n      this.setState({\r\n        events: [\r\n          ...this.state.events,\r\n          {\r\n            start,\r\n            end,\r\n            title,\r\n          },\r\n        ],\r\n      });\r\n  };\r\n\r\n  eventStyleGetter = (event, start, end, isSelected) => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    const fullName = user.firstName.concat(' ', user.lastName);\r\n    if (event.title === fullName) {\r\n      let style = {\r\n        backgroundColor: 'green',\r\n      };\r\n      return {\r\n        style: style,\r\n      };\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { func, t } = this.props;\r\n    return (\r\n      <div className=\"example\">\r\n        <Calendar\r\n          selectable\r\n          localizer={localize}\r\n          events={this.state.events}\r\n          views={['month']}\r\n          defaultDate={new Date()}\r\n          onSelectEvent={(event) => {}}\r\n          onSelectSlot={({ start, end }) => func(start, end)}\r\n          eventPropGetter={this.eventStyleGetter}\r\n          messages={{ today: t('Today'), previous: t('Back'), next: t('Next') }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation('home')(Selectable);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport moment from 'moment';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport { getMyRequests, getMyReviews, getUserById } from '../components/Axios';\r\nimport { Context, Users } from '../Context';\r\nimport NewRequest from './NewRequest';\r\nimport ReviewsTable from '../components/OtherRequests/ReviewsTable';\r\nimport RequestTable from '../components/RequestTable';\r\nimport Calendar from '../components/Calendar';\r\nimport { notifyHome } from '../notifications';\r\nimport { states } from '../constants';\r\n\r\nfunction Home() {\r\n  const [isNewRequestOpen, setNewRequestState] = useState(false);\r\n  const [requests, setRequests] = useState(null);\r\n  const [reviews, setReviews] = useState(null);\r\n  const [calendar, setCalendar] = useState(null);\r\n  const [events, setEvents] = useState(null);\r\n  const { t } = useTranslation(['home', 'notifications']);\r\n\r\n  let history = useHistory();\r\n  const [context, setContext] = useContext(Context);\r\n  const [users, setUsers] = useContext(Users);\r\n\r\n  const funct = (start, end) => {\r\n    if (context.role === 'Accountant' || new Date(start) < new Date()) return;\r\n    const startObj = moment(new Date(start));\r\n    const endObj = moment(new Date(end));\r\n\r\n    setCalendar([startObj, endObj]);\r\n    setNewRequestState(true);\r\n  };\r\n\r\n  const compareFunc = (a, b) => {\r\n    if (a.id > b.id) return -1;\r\n    if (a.id < b.id) return 1;\r\n    return 0;\r\n  };\r\n\r\n  useEffect(() => {\r\n    context.userId &&\r\n      getUserById(context.userId)\r\n        .then(({ data }) => {\r\n          localStorage.setItem('user', JSON.stringify(data));\r\n        })\r\n        .catch((err) => {\r\n          if (err.message === 'Network Error') {\r\n            notifyHome('Network Error');\r\n          } else if (err.response && err.response.status === 400) {\r\n            notifyHome('400');\r\n          } else {\r\n            notifyHome();\r\n          }\r\n        });\r\n\r\n    function getRequests() {\r\n      getMyRequests()\r\n        .then(({ data }) => {\r\n          const sortedData = data.sort(compareFunc);\r\n          setRequests(sortedData);\r\n        })\r\n        .catch((err) => {\r\n          if (err.message === 'Network Error') {\r\n            notifyHome('Network Error');\r\n          } else if (err.response && err.response.status === 400) {\r\n            notifyHome('400');\r\n          } else if (err.response && err.response.status === 401) {\r\n            localStorage.clear();\r\n            setContext({ userId: null, user: null, role: null, token: null });\r\n          } else {\r\n            notifyHome();\r\n          }\r\n        });\r\n    }\r\n    getRequests();\r\n\r\n    if (context.role !== 'Employee') {\r\n      function getReviews() {\r\n        getMyReviews()\r\n          .then(({ data }) => {\r\n            const subData = data.filter((item) => item.isApproved === null);\r\n            setReviews(subData);\r\n          })\r\n          .catch((err) => {\r\n            if (err.message === 'Network Error') {\r\n              notifyHome('Network Error');\r\n            } else if (err.response && err.response.status === 400) {\r\n              notifyHome('400');\r\n            } else {\r\n              notifyHome();\r\n            }\r\n          });\r\n      }\r\n      getReviews();\r\n    }\r\n  }, [context.userId]);\r\n\r\n  useEffect(() => {\r\n    let events;\r\n\r\n    if (users && requests) {\r\n      events = requests\r\n        .filter((req) => req.stateId === states.indexOf('Approved'))\r\n        .map((item) => {\r\n          const user = users.find((user) => user.id === item.userId);\r\n          const startDay = new Date(item.startDate);\r\n          const endDay = new Date(item.endDate);\r\n          if (item.startDate !== item.endDate) {\r\n            endDay.setHours(24);\r\n          }\r\n          return {\r\n            title: user.firstName.concat(' ', user.lastName),\r\n            start: startDay,\r\n            end: endDay,\r\n          };\r\n        });\r\n\r\n      if (reviews) {\r\n        const rew = reviews.map((item) => {\r\n          const user = users.find((user) => user.id === item.request.userId);\r\n          const startDay = new Date(item.request.startDate);\r\n          const endDay = new Date(item.request.endDate);\r\n          if (item.request.startDate !== item.request.endDate) {\r\n            endDay.setHours(24);\r\n          }\r\n          return {\r\n            title: user.firstName.concat(' ', user.lastName),\r\n            start: startDay,\r\n            end: endDay,\r\n          };\r\n        });\r\n\r\n        events = events.concat(rew);\r\n      }\r\n\r\n      setEvents(events);\r\n    }\r\n  }, [users, requests, reviews]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"home__content\">\r\n        {context.role !== 'Accountant' ? (\r\n          <div className=\"home__requests\">\r\n            <div className=\"requests__content\">\r\n              <h2 className=\"requests__title\">{t('MyRecentRequests')}</h2>\r\n\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => history.push('/my_requests')}\r\n                className=\"requests__viewall-btn\">\r\n                {t('ViewAll')}\r\n              </Button>\r\n              <Button\r\n                className=\"requests__newreq-btn\"\r\n                variant=\"contained\"\r\n                style={{ height: '30px', width: '140px', minWidth: '140px' }}\r\n                onClick={() => {\r\n                  setNewRequestState(true);\r\n                }}>\r\n                {t('NewRequest')}\r\n              </Button>\r\n            </div>\r\n\r\n            {!users || !requests ? (\r\n              <CircularProgress />\r\n            ) : users && requests && requests.length > 0 ? (\r\n              <RequestTable data={requests.slice(0, 3)} users={users} short />\r\n            ) : (\r\n              <h3>{t('NoRequests')}</h3>\r\n            )}\r\n          </div>\r\n        ) : null}\r\n\r\n        {context.role !== 'Employee' ? (\r\n          <div className=\"home__reviews\">\r\n            <h2 className=\"reviews__title\">\r\n              {t('NewRequestsForApproval')} ({reviews && reviews.length})\r\n            </h2>\r\n            {!users || !reviews ? (\r\n              <CircularProgress />\r\n            ) : users && reviews && reviews.length > 0 ? (\r\n              <ReviewsTable data={reviews} users={users} short />\r\n            ) : (\r\n              <h3>{t('NoReviews')}</h3>\r\n            )}\r\n          </div>\r\n        ) : null}\r\n        <NewRequest\r\n          isOpen={isNewRequestOpen}\r\n          onClose={() => {\r\n            setNewRequestState(false);\r\n          }}\r\n          calendar={calendar}\r\n        />\r\n      </div>\r\n      {events && <Calendar func={funct} events={events} />}\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(Home);\r\n","import React, { useState } from 'react';\r\nimport { Button, Select, MenuItem, FormControl, InputLabel } from '@material-ui/core';\r\n\r\nimport VacationPeriod from '../components/Leaves/VacationPeriod';\r\nimport moment from 'moment';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { states, types } from '../constants';\r\n\r\nfunction ReviewsFilter({ isSendingRequest, handleFilter }) {\r\n  const [state, setState] = useState(0);\r\n  const [type, setType] = useState(0);\r\n  const [fromDate, setFromDate] = useState(null);\r\n  const [toDate, setToDate] = useState(null);\r\n  const { t } = useTranslation(['translation', 'requests']);\r\n\r\n  const handleFromDate = (date) => {\r\n    setFromDate(date);\r\n  };\r\n\r\n  const handleToDate = (date) => {\r\n    setToDate(date);\r\n  };\r\n\r\n  const handleTypeChange = (e) => {\r\n    setType(e.target.value);\r\n  };\r\n  const handleStateChange = (e) => {\r\n    setState(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"myrequest__content\">\r\n      <VacationPeriod\r\n        fromDate={fromDate}\r\n        changeFromDate={handleFromDate}\r\n        toDate={toDate}\r\n        changeToDate={handleToDate}\r\n        showAllDays={true}\r\n        isSendingRequest={isSendingRequest}\r\n        disablePeriod={true}\r\n      />\r\n      <FormControl className=\"myrequest__state\">\r\n        <InputLabel>{t('requests:State')}</InputLabel>\r\n        <Select value={state} onChange={(e) => handleStateChange(e)}>\r\n          {states.map((state, idx) => (\r\n            <MenuItem key={`type-${state}-idx-${idx}`} value={idx}>\r\n              {t(state)}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className=\"myrequest__type\">\r\n        <InputLabel>{t('requests:Type')}</InputLabel>\r\n        <Select value={type} onChange={(e) => handleTypeChange(e)}>\r\n          {types.map((type, idx) => (\r\n            <MenuItem key={`type-${type.title}-idx-${idx}`} value={type.id}>\r\n              {t(type.title)}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"secondary\"\r\n        onClick={() => {\r\n          const stateId = state === 0 ? '' : state;\r\n          const typeId = type === 0 ? '' : type;\r\n          const startDate =\r\n            fromDate !== null ? moment(fromDate._d).format('YYYY-MM-DD').toString() : '';\r\n          const endDate = toDate !== null ? moment(toDate._d).format('YYYY-MM-DD').toString() : '';\r\n          handleFilter(startDate, endDate, stateId, typeId);\r\n        }}\r\n        className=\"myrequest__filter-btn\">\r\n        {t('requests:Filter')}\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(ReviewsFilter);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport RequestTable from '../components/RequestTable';\r\nimport RequestFilter from '../components/RequestFilter';\r\nimport NewRequest from './NewRequest';\r\nimport { getMyRequests, getMyRequestsByFilter, getStatistics } from '../components/Axios';\r\nimport { Users, Context } from '../Context';\r\nimport { types } from '../constants';\r\nimport { notifyMyRequests } from '../notifications';\r\n\r\nfunction MyRequests() {\r\n  const [data, setData] = useState(null);\r\n  const [isNewRequestOpen, setNewRequestState] = useState(false);\r\n  const { t } = useTranslation(['requests', 'translation', 'notifications']);\r\n  const [users, setUsers] = useContext(Users);\r\n  const [statistics, setStatistics] = useState(null);\r\n  const [context, setContext] = useContext(Context);\r\n\r\n  const handleFilter = (fromDate, toDate, stateId, typeId) => {\r\n    getMyRequestsByFilter(fromDate, toDate, stateId, typeId).then(({ data }) => {\r\n      setData(data);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function getRequests() {\r\n      await getMyRequests()\r\n        .then(({ data }) => {\r\n          setData(data);\r\n        })\r\n        .catch((err) => {\r\n          if (err.message === 'Network Error') {\r\n            notifyMyRequests('Network Error');\r\n          } else if (err.response && err.response.status === 400) {\r\n            notifyMyRequests('400');\r\n          } else if (err.response && err.response.status === 401) {\r\n            localStorage.clear();\r\n            setContext({ userId: null, user: null, role: null, token: null });\r\n          } else {\r\n            notifyMyRequests('');\r\n          }\r\n        });\r\n    }\r\n\r\n    async function getStat() {\r\n      await getStatistics()\r\n        .then(({ data }) => {\r\n          setStatistics(data);\r\n        })\r\n        .catch((err) => {\r\n          if (err.message === 'Network Error') {\r\n            notifyMyRequests('Network Error');\r\n          } else if (err.response && err.response.status === 400) {\r\n            notifyMyRequests('400');\r\n          } else if (err.response && err.response.status === 401) {\r\n            localStorage.clear();\r\n            setContext({ userId: null, user: null, role: null, token: null });\r\n          } else {\r\n            notifyMyRequests('');\r\n          }\r\n        });\r\n    }\r\n\r\n    getRequests();\r\n    getStat();\r\n  }, []);\r\n\r\n  function chunkArray(myArray, chunk_size) {\r\n    let tempArray = [];\r\n\r\n    for (let index = 1; index < myArray.length; index += chunk_size) {\r\n      tempArray.push(myArray.slice(index, index + chunk_size));\r\n    }\r\n\r\n    return tempArray;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>{t('Statistics', { year: new Date().getFullYear() })}</h2>\r\n      <div className=\"statistics\">\r\n        {statistics &&\r\n          chunkArray(types, 3).map((arr, idx) => {\r\n            return (\r\n              <div key={`idx-${idx}`} className=\"statistics__text\">\r\n                {arr.map((item) => {\r\n                  const findItem = statistics.find((stat) => stat.typeId === item.id);\r\n                  return (\r\n                    <p key={`title-${item.title}`}>\r\n                      {t(`translation:${item.title}`)}:{' '}\r\n                      {t('UsedDays', { days: findItem ? findItem.days : 0 })}\r\n                    </p>\r\n                  );\r\n                })}\r\n              </div>\r\n            );\r\n          })}\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          style={{ height: '40px' }}\r\n          onClick={() => {\r\n            setNewRequestState(true);\r\n          }}>\r\n          {t('NewRequest')}\r\n        </Button>\r\n      </div>\r\n\r\n      <h2>{t('MyRequests')}</h2>\r\n\r\n      <RequestFilter handleFilter={handleFilter} />\r\n      {!users || !data ? (\r\n        <CircularProgress />\r\n      ) : users && data && data.length > 0 ? (\r\n        <RequestTable data={data} users={users} />\r\n      ) : (\r\n        <h3>{t('NoRequests')}</h3>\r\n      )}\r\n      <NewRequest\r\n        isOpen={isNewRequestOpen}\r\n        onClose={() => {\r\n          setNewRequestState(false);\r\n        }}\r\n      />\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyRequests;\r\n","import React, { useState } from 'react';\r\nimport { Button, Select, MenuItem, FormControl, InputLabel, TextField } from '@material-ui/core';\r\n\r\nimport VacationPeriod from '../Leaves/VacationPeriod';\r\nimport moment from 'moment';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nfunction ReviewsFilter({ types, isSendingRequest, handleFilter }) {\r\n  const [type, setType] = useState(0);\r\n  const [name, setName] = useState('');\r\n  const [fromDate, setFromDate] = useState(null);\r\n  const [toDate, setToDate] = useState(null);\r\n  const { t } = useTranslation(['translation', 'reviews']);\r\n\r\n  const handleFromDate = (date) => {\r\n    setFromDate(date);\r\n  };\r\n\r\n  const handleToDate = (date) => {\r\n    setToDate(date);\r\n  };\r\n\r\n  const handleTypeChange = (e) => {\r\n    setType(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"review-filter__content\">\r\n      <VacationPeriod\r\n        fromDate={fromDate}\r\n        changeFromDate={handleFromDate}\r\n        toDate={toDate}\r\n        changeToDate={handleToDate}\r\n        showAllDays={true}\r\n        isSendingRequest={isSendingRequest}\r\n        disablePeriod={true}\r\n      />\r\n      <TextField\r\n        value={name}\r\n        label={t('reviews:FilterByName')}\r\n        variant=\"standard\"\r\n        onChange={(e) => setName(e.target.value)}\r\n        className=\"review-filter__name\"\r\n      />\r\n      <FormControl className=\"review-filter__type\">\r\n        <InputLabel>{t('reviews:Type')}</InputLabel>\r\n        <Select value={type} onChange={(e) => handleTypeChange(e)}>\r\n          {types.map((type, idx) => (\r\n            <MenuItem key={`type-${type.title}-idx-${idx}`} value={type.id}>\r\n              {t(type.title)}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"secondary\"\r\n        onClick={() => {\r\n          const typeId = type === 0 ? '' : type;\r\n          const startDate =\r\n            fromDate !== null ? moment(fromDate._d).format('YYYY-MM-DD').toString() : '';\r\n          const endDate = toDate !== null ? moment(toDate._d).format('YYYY-MM-DD').toString() : '';\r\n          handleFilter(startDate, endDate, name, typeId);\r\n        }}\r\n        className=\"review-filter__btn\">\r\n        {t('reviews:Filter')}\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(ReviewsFilter);\r\n","import { getMyReviews } from '../Axios';\r\n\r\nexport async function loadData(setData, setLoading, approvedSetting) {\r\n  async function loadReviews() {\r\n    await getMyReviews().then(({ data }) => {\r\n      const isNew = data.filter((item) => item.isApproved === approvedSetting);\r\n      setData(isNew);\r\n      setLoading(false);\r\n    });\r\n  }\r\n  await loadReviews();\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n} from '@material-ui/core';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport ReviewsFilter from './ReviewsFilter';\r\nimport { loadData } from './LoadReviewsData';\r\nimport { getMyReviewsByFilter } from '../Axios';\r\nimport { convertDate } from '../../config';\r\nimport { Users } from '../../Context';\r\nimport { types, states } from '../../constants';\r\nimport { notifyOtherRequests } from '../../notifications';\r\n\r\nconst headCellsNew = [\r\n  { id: 'From', label: 'From' },\r\n  { id: 'Role', label: 'Role' },\r\n  { id: 'Type', label: 'Type' },\r\n  { id: 'Dates', label: 'Dates' },\r\n  { id: 'State', label: 'State' },\r\n  { id: 'Comments', label: 'RequestComments' },\r\n  { id: 'Details', label: 'StateDetails' },\r\n];\r\n\r\nfunction EnhancedTableHead({ headCells, actions, t }) {\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={`table-cell-${headCell.id}`}\r\n            className=\"reviews__table-cell\"\r\n            align=\"center\"\r\n            padding=\"default\">\r\n            {t(headCell.label)}\r\n          </TableCell>\r\n        ))}\r\n        {actions ? (\r\n          <TableCell className=\"reviews__table-cell\" align=\"center\" padding=\"default\">\r\n            {t('Actions')}\r\n          </TableCell>\r\n        ) : null}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: '10px',\r\n    //margin: '0 auto',\r\n  },\r\n  table: {\r\n    width: '100%',\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: 'rect(0 0 0 0)',\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: 'hidden',\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nfunction Approved() {\r\n  const [data, setData] = useState(null);\r\n  const [isSendingRequest, setRequestSending] = useState(false);\r\n  const classes = useStyles();\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n  const [isLoading, setLoading] = useState(true);\r\n  const { t, i18n } = useTranslation(['reviews', 'translation', 'roles', 'notifications']);\r\n  const [users] = useContext(Users);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const setRange = () => {\r\n    if (data) {\r\n      let array = [];\r\n      const count = Math.floor(data.length / 5);\r\n\r\n      for (let index = 1; index < count + 1; index++) {\r\n        array.push(5 * index);\r\n      }\r\n      data.length !== array[array.length - 1] && array.push(data.length);\r\n      return array;\r\n    }\r\n  };\r\n\r\n  const emptyRows = data && rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage);\r\n\r\n  const joinData = () => {\r\n    const joinedData = data.map((item) => {\r\n      item.request.reviews.map(\r\n        (item) => (item.reviewer = users.find((user) => user.id === item.reviewerId)),\r\n      );\r\n      item.request.user = users.find((user) => user.id === item.request.userId);\r\n      return item;\r\n    });\r\n    return joinedData;\r\n  };\r\n\r\n  const handleFilter = (fromDate, toDate, name, typeId) => {\r\n    setRequestSending(true);\r\n    setLoading(true);\r\n    getMyReviewsByFilter(fromDate, toDate, name, typeId)\r\n      .then(({ data }) => {\r\n        const isNew = data.filter((item) => item.isApproved === true);\r\n        setData(isNew);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyOtherRequests('Network Error');\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyOtherRequests('400');\r\n        } else {\r\n          notifyOtherRequests('');\r\n        }\r\n      });\r\n    setRequestSending(false);\r\n  };\r\n\r\n  const isApprovedBy = (obj) => {\r\n    const { reviews } = obj.request;\r\n    const approved = reviews.reduce((sum, item) => {\r\n      if (item.isApproved) {\r\n        return `${sum} ${item.reviewer.firstName.concat(' ', item.reviewer.lastName)},`;\r\n      }\r\n      return sum;\r\n    }, '');\r\n    return approved ? `${t('AlreadyApproved')}: ${approved.slice(0, -1)}` : '';\r\n  };\r\n\r\n  const getData = (data) => {\r\n    setData(data);\r\n  };\r\n\r\n  const uploaded = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n\r\n    loadData(getData, uploaded, true);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <ReviewsFilter\r\n        types={types}\r\n        isSendingRequest={isSendingRequest}\r\n        handleFilter={handleFilter}\r\n      />\r\n      {/* <ReviewsTable data={testData} headCells={headCellsNew} /> */}\r\n      <div className={classes.root}>\r\n        {isLoading ? (\r\n          <CircularProgress />\r\n        ) : data.length > 0 ? (\r\n          <TableContainer>\r\n            <Table\r\n              className={classes.table}\r\n              aria-labelledby=\"tableTitle\"\r\n              size={'medium'}\r\n              aria-label=\"enhanced table\">\r\n              <EnhancedTableHead headCells={headCellsNew} t={t} />\r\n              <TableBody>\r\n                {joinData()\r\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                  .map((item, index) => {\r\n                    const labelId = `enhanced-table-${index}`;\r\n\r\n                    return (\r\n                      <TableRow\r\n                        className=\"reviews__users-table-row\"\r\n                        hover\r\n                        tabIndex={-1}\r\n                        key={item.id}>\r\n                        <TableCell\r\n                          component=\"th\"\r\n                          align=\"center\"\r\n                          id={labelId}\r\n                          scope=\"row\"\r\n                          padding=\"none\">\r\n                          {item.request.user.firstName.concat(' ', item.request.user.lastName)}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">{t(`roles:${item.request.user.role}`)}</TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {t(`translation:${types[item.request.typeId].title}`)}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {convertDate(item.request.startDate, i18n.language)} -{' '}\r\n                          {convertDate(item.request.endDate, i18n.language)}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {t(`translation:${states[item.request.stateId]}`)}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">{item.request.comment}</TableCell>\r\n                        <TableCell align=\"center\">{isApprovedBy(item)}</TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                {emptyRows > 0 && (\r\n                  <TableRow style={{ height: 33 * emptyRows }}>\r\n                    <TableCell colSpan={6} />\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n            <TablePagination\r\n              rowsPerPageOptions={setRange()}\r\n              component=\"div\"\r\n              count={data.length}\r\n              rowsPerPage={rowsPerPage}\r\n              page={page}\r\n              labelRowsPerPage={t('LabelRowsPerPage')}\r\n              labelDisplayedRows={({ from, to, count }) =>\r\n                t('LabelDisplayedRows', { from: from, to: to, count: count })\r\n              }\r\n              onChangePage={handleChangePage}\r\n              onChangeRowsPerPage={handleChangeRowsPerPage}\r\n            />\r\n          </TableContainer>\r\n        ) : (\r\n          <h3>{t('NoData')}</h3>\r\n        )}\r\n      </div>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Approved;\r\n","import React, { useState, useEffect } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport ReviewsTable from './ReviewsTable';\r\nimport ReviewsFilter from './ReviewsFilter';\r\nimport { loadData } from './LoadReviewsData';\r\nimport { getMyReviewsByFilter } from '../Axios';\r\nimport { types } from '../../constants';\r\nimport { Users } from '../../Context';\r\nimport { notifyOtherRequests } from '../../notifications';\r\n\r\nfunction NewRequests() {\r\n  const [data, setData] = useState(null);\r\n  const [isSendingRequest, setRequestSending] = useState(false);\r\n  const [isLoading, setLoading] = useState(true);\r\n  const { t } = useTranslation(['reviews', 'notifications']);\r\n  const [users] = React.useContext(Users);\r\n\r\n  const handleFilter = (fromDate, toDate, name, typeId) => {\r\n    setRequestSending(true);\r\n    setLoading(true);\r\n    getMyReviewsByFilter(fromDate, toDate, name, typeId)\r\n      .then(({ data }) => {\r\n        const isNew = data.filter((item) => item.isApproved === null);\r\n        setData(isNew);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyOtherRequests('Network Error');\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyOtherRequests('400');\r\n        } else {\r\n          notifyOtherRequests('');\r\n        }\r\n      });\r\n    setRequestSending(false);\r\n  };\r\n\r\n  const getData = (data) => {\r\n    setData(data);\r\n  };\r\n\r\n  const uploaded = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    loadData(getData, uploaded, null);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <ReviewsFilter\r\n        types={types}\r\n        isSendingRequest={isSendingRequest}\r\n        handleFilter={handleFilter}\r\n      />\r\n\r\n      <div>\r\n        {isLoading ? (\r\n          <CircularProgress />\r\n        ) : users && data.length > 0 ? (\r\n          <ReviewsTable data={data} users={users} />\r\n        ) : (\r\n          <h3 className=\"nodata\">{t('NoData')}</h3>\r\n        )}\r\n      </div>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewRequests;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n} from '@material-ui/core';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport ReviewsFilter from './ReviewsFilter';\r\nimport { loadData } from './LoadReviewsData';\r\nimport { getMyReviewsByFilter } from '../Axios';\r\nimport { convertDate } from '../../config';\r\nimport { types } from '../../constants';\r\nimport { Users } from '../../Context';\r\nimport { notifyOtherRequests } from '../../notifications';\r\n\r\nconst headCellsNew = [\r\n  { id: 'From', label: 'From' },\r\n  { id: 'Role', label: 'Role' },\r\n  { id: 'Type', label: 'Type' },\r\n  { id: 'Dates', label: 'Dates' },\r\n  { id: 'Comments', label: 'RequestComments' },\r\n  { id: 'Reject', label: 'MyRejectComment' },\r\n];\r\n\r\nfunction EnhancedTableHead({ headCells, actions, t }) {\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={`table-cell-${headCell.id}`}\r\n            className=\"reviews__table-cell\"\r\n            align=\"center\"\r\n            padding=\"default\">\r\n            {t(headCell.label)}\r\n          </TableCell>\r\n        ))}\r\n        {actions ? (\r\n          <TableCell className=\"reviews__table-cell\" align=\"center\" padding=\"default\">\r\n            {t('Actions')}\r\n          </TableCell>\r\n        ) : null}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    marginTop: '10px',\r\n    //margin: '0 auto',\r\n  },\r\n  table: {\r\n    width: '100%',\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: 'rect(0 0 0 0)',\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: 'hidden',\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nfunction Rejected() {\r\n  const [data, setData] = useState(null);\r\n  const [isSendingRequest, setRequestSending] = useState(false);\r\n  const classes = useStyles();\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n  const [isLoading, setLoading] = useState(true);\r\n  const { t, i18n } = useTranslation(['reviews', 'translation', 'roles', 'notifications']);\r\n  const [users] = useContext(Users);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const setRange = () => {\r\n    if (data) {\r\n      let array = [];\r\n      const count = Math.floor(data.length / 5);\r\n\r\n      for (let index = 1; index < count + 1; index++) {\r\n        array.push(5 * index);\r\n      }\r\n      data.length !== array[array.length - 1] && array.push(data.length);\r\n      return array;\r\n    }\r\n  };\r\n\r\n  const emptyRows = data && rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage);\r\n\r\n  const joinData = () => {\r\n    const joinedData = data.map((item) => {\r\n      item.request.user = users.find((user) => user.id === item.request.userId);\r\n      return item;\r\n    });\r\n    return joinedData;\r\n  };\r\n\r\n  const handleFilter = (fromDate, toDate, name, typeId) => {\r\n    setRequestSending(true);\r\n    setLoading(true);\r\n    getMyReviewsByFilter(fromDate, toDate, name, typeId)\r\n      .then(({ data }) => {\r\n        const isNew = data.filter((item) => item.isApproved === false);\r\n        setData(isNew);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyOtherRequests('Network Error');\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyOtherRequests('400');\r\n        } else {\r\n          notifyOtherRequests('');\r\n        }\r\n      });\r\n    setRequestSending(false);\r\n  };\r\n\r\n  const getData = (data) => {\r\n    setData(data);\r\n  };\r\n\r\n  const uploaded = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n\r\n    loadData(getData, uploaded, false);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <ReviewsFilter\r\n        types={types}\r\n        isSendingRequest={isSendingRequest}\r\n        handleFilter={handleFilter}\r\n      />\r\n\r\n      <div className={classes.root}>\r\n        {isLoading ? (\r\n          <CircularProgress />\r\n        ) : data.length > 0 ? (\r\n          <TableContainer>\r\n            <Table\r\n              className={classes.table}\r\n              aria-labelledby=\"tableTitle\"\r\n              size={'medium'}\r\n              aria-label=\"enhanced table\">\r\n              <EnhancedTableHead headCells={headCellsNew} t={t} />\r\n              <TableBody>\r\n                {joinData()\r\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                  .map((item, index) => {\r\n                    const labelId = `enhanced-table-${index}`;\r\n\r\n                    return (\r\n                      <TableRow\r\n                        className=\"reviews__users-table-row\"\r\n                        hover\r\n                        tabIndex={-1}\r\n                        key={item.id}>\r\n                        <TableCell\r\n                          component=\"th\"\r\n                          align=\"center\"\r\n                          id={labelId}\r\n                          scope=\"row\"\r\n                          padding=\"none\">\r\n                          {item.request.user.firstName.concat(' ', item.request.user.lastName)}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">{t(`roles:${item.request.user.role}`)}</TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {t(`translation:${types[item.request.typeId].title}`)}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          {convertDate(item.request.startDate, i18n.language)} -{' '}\r\n                          {convertDate(item.request.endDate, i18n.language)}\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">{item.request.comment}</TableCell>\r\n                        <TableCell align=\"center\">{item.comment}</TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                {emptyRows > 0 && (\r\n                  <TableRow style={{ height: 33 * emptyRows }}>\r\n                    <TableCell colSpan={6} />\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n            <TablePagination\r\n              rowsPerPageOptions={setRange()}\r\n              component=\"div\"\r\n              count={data.length}\r\n              rowsPerPage={rowsPerPage}\r\n              page={page}\r\n              labelRowsPerPage={t('LabelRowsPerPage')}\r\n              labelDisplayedRows={({ from, to, count }) =>\r\n                t('LabelDisplayedRows', { from: from, to: to, count: count })\r\n              }\r\n              onChangePage={handleChangePage}\r\n              onChangeRowsPerPage={handleChangeRowsPerPage}\r\n            />\r\n          </TableContainer>\r\n        ) : (\r\n          <h3>{t('NoData')}</h3>\r\n        )}\r\n      </div>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Rejected;\r\n","import React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { Approved, Rejected, NewRequests } from '../components/OtherRequests/index';\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`full-width-tabpanel-${index}`}\r\n      aria-labelledby={`full-width-tab-${index}`}\r\n      {...other}>\r\n      {value === index && <Box p={3}>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction OtherRequests() {\r\n  const [value, setValue] = React.useState(0);\r\n  const { t, i18n } = useTranslation(['reviews', 'notifications']);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <AppBar\r\n        style={{ width: i18n.language === 'ru' ? '528px' : '480px' }}\r\n        position=\"static\"\r\n        color=\"default\">\r\n        <Tabs value={value} onChange={handleChange} indicatorColor=\"primary\" textColor=\"primary\">\r\n          <Tab label={t('NewRequests')} />\r\n          <Tab label={t('ApprovedByMe')} />\r\n          <Tab label={t('RejectedByMe')} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        <NewRequests />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <Approved />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        <Rejected />\r\n      </TabPanel>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OtherRequests;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { Button } from '@material-ui/core';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport LeaveComment from '../Leaves/LeaveComment';\r\nimport { actionReview } from '../Axios';\r\nimport { notifyReviewActions } from '../../notifications';\r\n\r\n//Custom hook to get params from query string\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nfunction RequestActions() {\r\n  let query = useQuery();\r\n  const [isSendingRequest, setSending] = useState(true);\r\n  const [comment, setComment] = useState('');\r\n  const [result, setResult] = useState('');\r\n  const { t } = useTranslation(['reviews', 'notifications']);\r\n\r\n  useEffect(() => {\r\n    if (query.get('action') === 'approve') {\r\n      handleApprove(query.get('review'), true);\r\n    } else {\r\n      setSending(false);\r\n    }\r\n  }, []);\r\n\r\n  const handleApprove = (reviewId, action) => {\r\n    setSending(true);\r\n    if (!action && comment === '') {\r\n      notifyReviewActions('No comment');\r\n      setSending(false);\r\n      return;\r\n    }\r\n    actionReview(reviewId, action, comment)\r\n      .then(() => {\r\n        action ? setResult('ApprovedRequest') : setResult('RejectedRequest');\r\n        action ? notifyReviewActions('Approve success') : notifyReviewActions('Rejection success');\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyReviewActions('Network Error');\r\n          action ? setResult('NotApprovedRequest') : setResult('NotRejectedRequest');\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyReviewActions('400');\r\n          action ? setResult('NotApprovedRequest') : setResult('NotRejectedRequest');\r\n        } else if (err.response && err.response.status === 409) {\r\n          switch (err.response.data) {\r\n            case 'The request is not actual!':\r\n              setResult('NotActualRequest');\r\n              action\r\n                ? notifyReviewActions('Approve failed')\r\n                : notifyReviewActions('Rejection failed');\r\n              break;\r\n            case 'The request has already been <approved/rejected>!':\r\n              setResult('AlreadyDone');\r\n              action\r\n                ? notifyReviewActions('Approve failed')\r\n                : notifyReviewActions('Rejection failed');\r\n              break;\r\n            case 'No previous review!':\r\n              setResult('NoPrevReview!');\r\n              action\r\n                ? notifyReviewActions('Approve failed')\r\n                : notifyReviewActions('Rejection failed');\r\n              break;\r\n            default:\r\n              setResult('SomethingWrong');\r\n              action\r\n                ? notifyReviewActions('Approve failed')\r\n                : notifyReviewActions('Rejection failed');\r\n              break;\r\n          }\r\n        } else {\r\n          action ? setResult('NotApprovedRequest') : setResult('NotRejectedRequest');\r\n          action ? notifyReviewActions('Approve failed') : notifyReviewActions('Rejection failed');\r\n        }\r\n      });\r\n\r\n    setSending(false);\r\n  };\r\n\r\n  const changeComment = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {query.get('action') === 'approve' ? (\r\n        isSendingRequest ? (\r\n          <CircularProgress />\r\n        ) : (\r\n          <p>{t(result)}</p>\r\n        )\r\n      ) : result.length === 0 ? (\r\n        <div className=\"reject__content\">\r\n          <h3>{t('RejectReason')}</h3>\r\n          <LeaveComment\r\n            disabled={isSendingRequest}\r\n            comment={comment}\r\n            changeComment={changeComment}\r\n          />\r\n          <Button\r\n            disabled={isSendingRequest}\r\n            className=\"reviews-table__cancel-btn\"\r\n            variant=\"contained\"\r\n            onClick={() => {\r\n              handleApprove(query.get('review'), false);\r\n            }}>\r\n            {t('Send')}\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <p>{t(result)}</p>\r\n      )}\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RequestActions;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport default function ConfirmationDialog({ isOpen, onClose, onOk }) {\r\n  const { t } = useTranslation('leaves');\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={isOpen} onClose={onClose} aria-labelledby=\"alert-dialog-title\">\r\n        <DialogTitle id=\"alert-dialog-title\">{t('EditApprovedRequest')}</DialogTitle>\r\n        <DialogContent>\r\n          <span className=\"alert-dialog-description\">{t('EditRequestConfirmation')}</span>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={onOk} color=\"primary\">\r\n            {t('OK')}\r\n          </Button>\r\n          <Button onClick={onClose} color=\"primary\" autoFocus>\r\n            {t('Cancel')}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport moment from 'moment';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport {\r\n  Administrative,\r\n  AdministrativeFm,\r\n  Paid,\r\n  SickNoDoc,\r\n  SickWithDoc,\r\n  Social,\r\n  Study,\r\n} from '../components/Leaves/index';\r\nimport { getRequestById, changeRequest, declineRequest } from '../components/Axios';\r\nimport { types, states } from '../constants';\r\nimport { notifyNewRequest, notifyMyRequests } from '../notifications';\r\nimport { Users } from '../Context';\r\nimport ConfirmationDialog from '../components/Leaves/ConfirmationDialog';\r\nimport NewRequest from './NewRequest';\r\nimport { useTranslation } from 'react-i18next';\r\nimport DateIntersectionDialog from '../components/Leaves/DateIntersectionDialog';\r\n\r\nlet prManagers = [];\r\n\r\nfunction PersonalRequest() {\r\n  const { id } = useParams();\r\n  let history = useHistory();\r\n  const [users, setUsers] = useContext(Users);\r\n  const [request, setRequest] = useState(null);\r\n  const [isSendingRequest, setRequestSending] = useState(false);\r\n  const [comment, setComment] = useState('');\r\n  const [fromDate, setFromDate] = useState(null);\r\n  const [toDate, setToDate] = useState(null);\r\n  const [pmanager, setPManager] = useState(['']);\r\n  const [duration, setDuration] = useState(2);\r\n  const [isEditable, setEditable] = useState(true);\r\n  const [isDialogOpen, openDialog] = useState(false);\r\n  const [isIntersectDialog, openIntersectDialog] = useState(false);\r\n  const [isNewRequestOpened, openNewRequest] = useState(false);\r\n  const [result, setResult] = useState('');\r\n  const { t } = useTranslation(['requests', 'translation', 'notifications']);\r\n\r\n  const handleComment = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n\r\n  const handleFromDate = (date) => {\r\n    setFromDate(date);\r\n  };\r\n\r\n  const handleToDate = (date) => {\r\n    setToDate(date);\r\n  };\r\n\r\n  const handleManagers = (array) => {\r\n    setPManager(array);\r\n  };\r\n\r\n  const handleDuration = (duration) => {\r\n    setDuration(duration);\r\n  };\r\n\r\n  const typeProps = {\r\n    prManagers: prManagers,\r\n    isSendingRequest: isSendingRequest,\r\n    comment: comment,\r\n    changeComment: handleComment,\r\n    fromDate: fromDate,\r\n    changeFromDate: handleFromDate,\r\n    toDate: toDate,\r\n    changeToDate: handleToDate,\r\n    managers: pmanager,\r\n    changeManagers: handleManagers,\r\n    duration: duration,\r\n    changeDuration: handleDuration,\r\n    isEditable: isEditable,\r\n    request: request,\r\n  };\r\n\r\n  const renderLeaveBody = [\r\n    {\r\n      id: 1,\r\n      title: 'Administrative force majeure leave',\r\n      comp: <AdministrativeFm {...typeProps} />,\r\n    },\r\n    { id: 2, title: 'Administrative leave', comp: <Administrative {...typeProps} /> },\r\n    { id: 3, title: 'Social leave', comp: <Social {...typeProps} /> },\r\n    { id: 4, title: 'Sick leave (no documents)', comp: <SickNoDoc {...typeProps} /> },\r\n    { id: 5, title: 'Sick leave (with documents)', comp: <SickWithDoc {...typeProps} /> },\r\n    { id: 6, title: 'Study leave', comp: <Study {...typeProps} /> },\r\n    { id: 7, title: 'Paid leave', comp: <Paid {...typeProps} /> },\r\n  ];\r\n\r\n  const cancelEditing = () => {\r\n    const managers = request.reviews\r\n      .filter((item) => item.reviewerId !== 1)\r\n      .map((rev) => rev.reviewer.firstName.concat(' ', rev.reviewer.lastName));\r\n    setPManager(managers);\r\n    setFromDate(moment(request.startDate));\r\n    setToDate(moment(request.endDate));\r\n    setDuration(request.durationId);\r\n    setComment(request.comment);\r\n  };\r\n\r\n  const dataSet = (data) => {\r\n    data.reviews.map((item) => (item.reviewer = users.find((user) => user.id === item.reviewerId)));\r\n    data.user = users.find((user) => user.id === data.userId);\r\n    const managers = data.reviews\r\n      .filter((item) => item.reviewerId !== 1)\r\n      .map((rev) => rev.reviewer.firstName.concat(' ', rev.reviewer.lastName));\r\n    setPManager(managers);\r\n    setFromDate(moment(data.startDate));\r\n    setToDate(moment(data.endDate));\r\n    setDuration(data.durationId);\r\n    setComment(data.comment);\r\n    setRequest(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (users) {\r\n      getRequestById(id)\r\n        .then(({ data }) => {\r\n          dataSet(data);\r\n        })\r\n        .catch((err) => {\r\n          if (err.message === 'Network Error') {\r\n            notifyMyRequests('Network Error');\r\n          } else if (err.response && err.response.status === 400) {\r\n            notifyMyRequests('400');\r\n          } else {\r\n            notifyMyRequests('');\r\n          }\r\n          setResult('NotFound');\r\n          return;\r\n        });\r\n    }\r\n\r\n    if (users) {\r\n      prManagers = users\r\n        .filter((us) => us.role === 'Manager')\r\n        .map((item) => {\r\n          return item.firstName.concat(' ', item.lastName);\r\n        });\r\n    }\r\n  }, [id, users]);\r\n\r\n  const onDialogClose = () => {\r\n    openDialog(false);\r\n  };\r\n\r\n  const onIntersectDialogClose = () => {\r\n    openIntersectDialog(false);\r\n  };\r\n\r\n  const onDialogConfirm = () => {\r\n    setEditable(false);\r\n\r\n    const modifiedRequest = request;\r\n    modifiedRequest.reviews = request.reviews.map((item) => {\r\n      item.isApproved = null;\r\n      return item;\r\n    });\r\n    setRequest(modifiedRequest);\r\n    openDialog(false);\r\n  };\r\n\r\n  const handleChangeRequest = (flagDateIntersection) => {\r\n    setRequestSending(true);\r\n\r\n    if (!fromDate || !toDate) {\r\n      notifyNewRequest('Empty dates');\r\n      setRequestSending(false);\r\n      return;\r\n    }\r\n\r\n    if ([2, 4, 5, 7].includes(request.typeId) && comment.replaceAll(' ', '').length === 0) {\r\n      notifyNewRequest('Empty comment');\r\n      setRequestSending(false);\r\n      return;\r\n    }\r\n\r\n    if ([2, 6, 7].includes(request.typeId) && pmanager.includes('')) {\r\n      notifyNewRequest('Empty managers');\r\n      setRequestSending(false);\r\n      return;\r\n    }\r\n\r\n    const reviewerIds =\r\n      pmanager.length > 0\r\n        ? pmanager.map((item) => {\r\n            return users\r\n              .filter((us) => us.role === 'Manager')\r\n              .find((dat) => dat.firstName.concat(' ', dat.lastName) === item).id;\r\n          })\r\n        : null;\r\n\r\n    changeRequest(id, {\r\n      id: id,\r\n      typeId: request.typeId,\r\n      startDate: moment(fromDate._d).format('YYYY-MM-DD').toString(),\r\n      endDate: moment(toDate._d).format('YYYY-MM-DD').toString(),\r\n      reviewsIds: reviewerIds !== null ? [1, ...reviewerIds] : [1],\r\n      comment: comment,\r\n      durationId: duration,\r\n      isDateIntersectionAllowed: flagDateIntersection,\r\n    })\r\n      .then(() => {\r\n        notifyMyRequests('Edited');\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyMyRequests('Network Error');\r\n          dataSet(request);\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyMyRequests('400');\r\n          dataSet(request);\r\n        } else if (err.response && err.response.status === 409) {\r\n          openIntersectDialog(true);\r\n        } else {\r\n          notifyMyRequests('NotEdited');\r\n          dataSet(request);\r\n        }\r\n      });\r\n    openIntersectDialog(false);\r\n    setRequestSending(false);\r\n    setEditable(true);\r\n  };\r\n\r\n  const handleDeleteRequest = () => {\r\n    setRequestSending(true);\r\n\r\n    declineRequest(id)\r\n      .then(() => {\r\n        setEditable(true);\r\n        history.push('/my_requests');\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyMyRequests('Network Error');\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyMyRequests('400');\r\n        } else {\r\n          notifyMyRequests('');\r\n        }\r\n      });\r\n\r\n    setRequestSending(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"personal__content\" style={{ padding: 5 }}>\r\n      {result.length === 0 ? (\r\n        request ? (\r\n          <div>\r\n            <h2 className=\"personal__type\">\r\n              {t(`translation:${types[request.typeId].title}`)}\r\n              <p className=\"personal__state\">\r\n                ({t('State')}: {t(`translation:${states[request.stateId]}`)})\r\n              </p>\r\n            </h2>\r\n            <div className=\"personal__request\">{renderLeaveBody[request.typeId - 1].comp}</div>\r\n\r\n            <div className=\"personal__btn-group\">\r\n              {[states.indexOf('New'), states.indexOf('InProgress')].includes(request.stateId) ||\r\n              (request.stateId === states.indexOf('Approved') &&\r\n                new Date(request.endDate) > new Date()) ? (\r\n                isEditable ? (\r\n                  <Button\r\n                    className=\"personal-request__edit-btn\"\r\n                    variant=\"contained\"\r\n                    disabled={isSendingRequest}\r\n                    onClick={() => {\r\n                      if (request.stateId === states.indexOf('Approved')) {\r\n                        openDialog(true);\r\n                      } else {\r\n                        setEditable(false);\r\n                      }\r\n                    }}>\r\n                    {t('Edit')}\r\n                  </Button>\r\n                ) : (\r\n                  <>\r\n                    <Button\r\n                      className=\"personal-request__save-btn\"\r\n                      variant=\"contained\"\r\n                      disabled={isSendingRequest}\r\n                      onClick={() => {\r\n                        handleChangeRequest(false);\r\n                      }}>\r\n                      {t('SaveChanges')}\r\n                    </Button>\r\n                    <Button\r\n                      className=\"personal-request__ce-btn\"\r\n                      variant=\"contained\"\r\n                      disabled={isSendingRequest}\r\n                      onClick={() => {\r\n                        cancelEditing();\r\n                        setEditable(true);\r\n                      }}>\r\n                      {t('CancelEditing')}\r\n                    </Button>\r\n                  </>\r\n                )\r\n              ) : null}\r\n              {isEditable && (\r\n                <>\r\n                  <Button\r\n                    className=\"personal-request__duplicate-btn\"\r\n                    variant=\"contained\"\r\n                    disabled={isSendingRequest}\r\n                    onClick={() => {\r\n                      openNewRequest(true);\r\n                    }}\r\n                    autoFocus>\r\n                    {t('Duplicate')}\r\n                  </Button>\r\n                  {[states.indexOf('New'), states.indexOf('InProgress')].includes(\r\n                    request.stateId,\r\n                  ) ||\r\n                  (request.stateId === states.indexOf('Approved') &&\r\n                    new Date(request.endDate) > new Date()) ? (\r\n                    <Button\r\n                      className=\"personal-request__decline-btn\"\r\n                      variant=\"contained\"\r\n                      disabled={isSendingRequest}\r\n                      onClick={() => {\r\n                        handleDeleteRequest();\r\n                      }}\r\n                      autoFocus>\r\n                      {t('Decline')}\r\n                    </Button>\r\n                  ) : null}\r\n                  <Button\r\n                    className=\"personal-request__close-btn\"\r\n                    variant=\"contained\"\r\n                    disabled={isSendingRequest}\r\n                    onClick={() => {\r\n                      history.goBack();\r\n                    }}\r\n                    autoFocus>\r\n                    {t('Close')}\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </div>\r\n            <NewRequest\r\n              isOpen={isNewRequestOpened}\r\n              onClose={() => {\r\n                openNewRequest(false);\r\n              }}\r\n              request={request}\r\n            />\r\n            <DateIntersectionDialog\r\n              isOpen={isIntersectDialog}\r\n              onClose={onIntersectDialogClose}\r\n              onOk={() => handleChangeRequest(true)}\r\n              onCancel={() => {\r\n                dataSet(request);\r\n                openIntersectDialog(false);\r\n              }}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <CircularProgress />\r\n        )\r\n      ) : (\r\n        <h2>{t(result)}</h2>\r\n      )}\r\n      <ConfirmationDialog isOpen={isDialogOpen} onClose={onDialogClose} onOk={onDialogConfirm} />\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PersonalRequest;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Switch, Route, Link, useHistory, useLocation, Redirect } from 'react-router-dom';\r\nimport { Button, ButtonGroup } from '@material-ui/core';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport Home from './Home';\r\nimport MyRequests from './MyRequests';\r\nimport OtherRequests from './OtherRequests';\r\nimport RequestActions from '../components/OtherRequests/RequestActions';\r\n\r\nimport { Context, Users } from '../Context';\r\nimport { getUsers } from '../components/Axios';\r\nimport PersonalRequest from './PersonalRequest';\r\n\r\nconst routes = [\r\n  {\r\n    name: 'Home',\r\n    path: '/home',\r\n    exact: true,\r\n    access: ['Accountant', 'Manager', 'Employee'],\r\n    main: () => <Home />,\r\n  },\r\n  {\r\n    name: 'MyRequests',\r\n    path: '/my_requests',\r\n    exact: true,\r\n    access: ['Manager', 'Employee'],\r\n    main: () => <MyRequests />,\r\n  },\r\n  {\r\n    name: 'OtherRequests',\r\n    path: '/other_requests',\r\n    exact: true,\r\n    access: ['Accountant', 'Manager'],\r\n    main: () => <OtherRequests />,\r\n  },\r\n];\r\n\r\nfunction User() {\r\n  const [selectedRoute, setSelectedRoute] = useState(0);\r\n  const [context, setContext] = useContext(Context);\r\n  const [users, setUsers] = useContext(Users);\r\n  const { t } = useTranslation('user');\r\n  let history = useHistory();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (context.role === 'Admin') {\r\n      history.replace('/admin');\r\n      return;\r\n    }\r\n\r\n    setSelectedRoute(routes.findIndex((item) => history.location.pathname.includes(item.path)));\r\n  }, [context, location]);\r\n\r\n  useEffect(() => {\r\n    getUsers('', '')\r\n      .then(({ data }) => {\r\n        setUsers(data);\r\n      })\r\n      .catch((err) => {\r\n        if (err.response && err.response.status === 401) {\r\n          localStorage.clear();\r\n          setContext({ userId: null, user: null, role: null, token: null });\r\n        }\r\n      });\r\n  }, [context.userId]);\r\n\r\n  return (\r\n    <div className=\"router__btn-group\">\r\n      <div className=\"sidebar\">\r\n        <ButtonGroup orientation=\"vertical\" style={{ width: '100%' }}>\r\n          {routes.map((route, idx) => {\r\n            if (route.access.includes(context.role))\r\n              return (\r\n                <Link key={`path-${route.name}-${idx}`} to={route.path}>\r\n                  <Button\r\n                    disableElevation\r\n                    className=\"button\"\r\n                    variant={idx === selectedRoute ? 'contained' : 'text'}\r\n                    color={idx === selectedRoute ? 'primary' : 'default'}\r\n                    fullWidth\r\n                    onClick={() => {\r\n                      setSelectedRoute(idx);\r\n                    }}>\r\n                    {t(route.name)}\r\n                  </Button>\r\n                </Link>\r\n              );\r\n          })}\r\n        </ButtonGroup>\r\n      </div>\r\n\r\n      <div className=\"router__switch\">\r\n        <Switch>\r\n          {routes.map((route, index) => {\r\n            if (route.access.includes(context.role))\r\n              return (\r\n                <Route\r\n                  key={index}\r\n                  path={route.path}\r\n                  exact={route.exact}\r\n                  render={({ location }) =>\r\n                    context.token ? (\r\n                      <route.main />\r\n                    ) : (\r\n                      <Redirect\r\n                        to={{\r\n                          pathname: '/login',\r\n                          state: { from: location },\r\n                        }}\r\n                      />\r\n                    )\r\n                  }\r\n                />\r\n              );\r\n          })}\r\n          <Route\r\n            path=\"/my_requests/:id\"\r\n            exect\r\n            render={({ location }) =>\r\n              context.token ? (\r\n                <PersonalRequest isOpen={true}></PersonalRequest>\r\n              ) : (\r\n                <Redirect\r\n                  to={{\r\n                    pathname: '/login',\r\n                    state: { from: location },\r\n                  }}\r\n                />\r\n              )\r\n            }></Route>\r\n          <Route\r\n            path=\"/other_requests/actions\"\r\n            render={({ location }) =>\r\n              context.token ? (\r\n                <RequestActions />\r\n              ) : (\r\n                <Redirect\r\n                  to={{\r\n                    pathname: '/login',\r\n                    state: { from: location },\r\n                  }}\r\n                />\r\n              )\r\n            }></Route>\r\n          <Route path=\"*\" exect children={<Redirect to=\"/login\" />}></Route>\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { TextField, Button, InputAdornment, IconButton } from '@material-ui/core';\r\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport axios from 'axios';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport { Users, Context } from '../Context';\r\nimport { notifyLogin } from '../notifications';\r\n\r\nfunction Login() {\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n  const { t } = useTranslation(['login', 'notifications']);\r\n\r\n  const [context, setContext] = useContext(Context);\r\n  const [users, setUsers] = useContext(Users);\r\n\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [showPassword, setPasswordVisibility] = useState(false);\r\n  const [errors, setErrors] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n\r\n  const checkForm = () => {\r\n    let error = { ...errors };\r\n\r\n    error.username = username !== '' ? '' : `${t('NoEmpty')} ${t('Username')}`;\r\n\r\n    error.password = password !== '' ? '' : `${t('NoEmpty')} ${t('Password')}`;\r\n\r\n    setErrors(error);\r\n\r\n    if (\r\n      Object.values(error).reduce((sum, err) => {\r\n        return sum + err.length;\r\n      }, 0) > 0\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const url = 'https://timeofftrackerwebapi2020.azurewebsites.net//auth/token';\r\n    axios\r\n      .post(url, { username: username, password: password })\r\n      .then((response) => {\r\n        const { data } = response;\r\n        const user = users ? users.find((user) => user.id === data.userId) : null;\r\n        localStorage.setItem('userId', data.userId);\r\n        localStorage.setItem('role', data.role);\r\n        localStorage.setItem('token', data.token);\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n        setContext({ userId: data.userId, user: user, role: data.role, token: data.token });\r\n        history.replace(\r\n          location.state\r\n            ? location.state.from.pathname + location.state.from.search\r\n            : data.role === 'Admin'\r\n            ? '/admin'\r\n            : '/home',\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyLogin('Network Error');\r\n        } else if (\r\n          err.response &&\r\n          err.response.data.message === 'Username or password is incorrect'\r\n        ) {\r\n          setErrors({ username: t('IncorrectLoginData'), password: t('IncorrectLoginData') });\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyLogin('400');\r\n        } else {\r\n          notifyLogin('');\r\n        }\r\n      });\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setPasswordVisibility(!showPassword);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (context.role === 'Admin') {\r\n      history.push('/admin');\r\n    } else if (['Accountant', 'Manager', 'Employee'].includes(context.role)) {\r\n      history.push('/home');\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"login__form\">\r\n        <h1 className=\"login__title\">{t('Title')}</h1>\r\n        <TextField\r\n          label={t('Username')}\r\n          error={errors.username.length > 0}\r\n          helperText={errors.username}\r\n          variant=\"standard\"\r\n          fullWidth\r\n          className=\"form-input\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n        <TextField\r\n          label={t('Password')}\r\n          error={errors.password.length > 0}\r\n          helperText={errors.password}\r\n          variant=\"standard\"\r\n          fullWidth\r\n          className=\"form-input\"\r\n          type={showPassword ? 'text' : 'password'}\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          InputProps={{\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}>\r\n                  {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          fullWidth\r\n          size=\"large\"\r\n          className=\"login__btn\"\r\n          onClick={checkForm}>\r\n          {t('LogIn')}\r\n        </Button>\r\n      </form>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(Login);\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport default function ConfirmationDialog({ isOpen, onClose, onDelete, user }) {\r\n  const { t } = useTranslation('admin');\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={isOpen} onClose={onClose} aria-labelledby=\"alert-dialog-title\">\r\n        <DialogTitle id=\"alert-dialog-title\">{t('DeleteUser')}</DialogTitle>\r\n        <DialogContent>\r\n          <span className=\"alert-dialog-description\">\r\n            {t('DeleteUserConfirmation')} <b>{user && user[1]}</b>?\r\n          </span>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => onDelete(user[0])} color=\"primary\">\r\n            {t('OK')}\r\n          </Button>\r\n          <Button onClick={onClose} color=\"primary\" autoFocus>\r\n            {t('Cancel')}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { TextField, Button, Select, MenuItem, FormControl, InputLabel } from '@material-ui/core';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport { newUser } from '../Axios';\r\nimport { notifyAdmin } from '../../notifications';\r\n\r\nexport default function AddNewUser({ isOpen, onClose, roles, updateUsers }) {\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [role, setRole] = useState(0);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errors, setErrors] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const { t } = useTranslation(['admin', 'roles', 'notifications']);\r\n\r\n  const handleAddNewUser = async () => {\r\n    let error = { ...errors };\r\n\r\n    error.firstName = firstName !== '' ? '' : `${t('NoEmpty')} ${t('FirstName')}`;\r\n    error.lastName = lastName !== '' ? '' : `${t('NoEmpty')} ${t('LastName')}`;\r\n    error.email = email !== '' ? '' : `${t('NoEmpty')} ${t('Email')}`;\r\n    error.password = password !== '' ? '' : `${t('NoEmpty')} ${t('Password')}`;\r\n\r\n    setErrors(error);\r\n\r\n    if (\r\n      Object.values(error).reduce((sum, err) => {\r\n        return sum + err.length;\r\n      }, 0) > 0\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const user = {\r\n      firstName: firstName,\r\n      lastName: lastName,\r\n      email: email,\r\n      password: password,\r\n      role: roles[role],\r\n    };\r\n\r\n    await newUser(user)\r\n      .then(() => {\r\n        notifyAdmin('Successful New User Adding');\r\n        onClose();\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyAdmin('Network Error');\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyAdmin('400');\r\n        } else {\r\n          notifyAdmin('New user failure');\r\n        }\r\n      });\r\n    updateUsers();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        disableBackdropClick\r\n        disableEscapeKeyDown\r\n        open={isOpen}\r\n        onClose={onClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\">\r\n        <DialogTitle id=\"alert-dialog-title\">{t('RegisterNewUser')}</DialogTitle>\r\n        <DialogContent>\r\n          <form className=\"new-user__form\">\r\n            <TextField\r\n              label={t('FirstName')}\r\n              error={errors.firstName.length > 0}\r\n              helperText={errors.firstName}\r\n              variant=\"standard\"\r\n              fullWidth\r\n              className=\"new-user__form-input\"\r\n              value={firstName}\r\n              onChange={(e) => setFirstName(e.target.value)}\r\n            />\r\n            <TextField\r\n              label={t('LastName')}\r\n              error={errors.lastName.length > 0}\r\n              helperText={errors.lastName}\r\n              variant=\"standard\"\r\n              fullWidth\r\n              className=\"new-user__form-input\"\r\n              value={lastName}\r\n              onChange={(e) => setLastName(e.target.value)}\r\n            />\r\n            <TextField\r\n              label={t('Email')}\r\n              error={errors.email.length > 0}\r\n              helperText={errors.email}\r\n              variant=\"standard\"\r\n              fullWidth\r\n              className=\"new-user__form-input\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <TextField\r\n              label={t('Password')}\r\n              error={errors.password.length > 0}\r\n              helperText={errors.password}\r\n              variant=\"standard\"\r\n              fullWidth\r\n              className=\"new-user__form-input\"\r\n              type={'text'}\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <FormControl className=\"new-user__form-input\">\r\n              <InputLabel>{t('roles:Role')}</InputLabel>\r\n              <Select\r\n                value={role}\r\n                onChange={(event) => {\r\n                  setRole(event.target.value);\r\n                }}>\r\n                {roles.map((obj, idx) => (\r\n                  <MenuItem key={`key-${idx}-name${obj}`} value={idx}>\r\n                    {t('roles:' + obj)}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleAddNewUser} color=\"primary\">\r\n            {t('Add')}\r\n          </Button>\r\n          <Button onClick={onClose} color=\"primary\" autoFocus>\r\n            {t('Cancel')}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Button,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n  TableSortLabel,\r\n  Toolbar,\r\n  Tooltip,\r\n} from '@material-ui/core';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport ConfirmationDialog from './ConfirmationDialog';\r\nimport AddNewUserDialog from './AddNewUserDialog';\r\nimport { deleteUser, changeUserRole } from '../Axios';\r\nimport { notifyAdmin } from '../../notifications';\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nconst headCells = [\r\n  { id: 'firstName', numeric: true, disablePadding: true, label: 'Name' },\r\n  { id: 'userName', numeric: false, disablePadding: false, label: 'Username' },\r\n  { id: 'email', numeric: false, disablePadding: false, label: 'Email' },\r\n  { id: 'role', numeric: false, disablePadding: false, label: 'Role' },\r\n  { id: 'button', numeric: false, disablePadding: false, label: '' },\r\n];\r\n\r\nfunction EnhancedTableHead(props) {\r\n  const { classes, order, orderBy, onRequestSort, t } = props;\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        <TableCell padding=\"checkbox\"></TableCell>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.numeric ? 'left' : 'center'}\r\n            padding={headCell.disablePadding ? 'none' : 'default'}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n            className=\"reviews__table-cell\">\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : 'asc'}\r\n              onClick={createSortHandler(headCell.id)}>\r\n              {t([headCell.label, 'roles:' + headCell.label])}\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  title: {\r\n    flex: '1 1 100%',\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = ({ roles, updateUsers, t }) => {\r\n  const classes = useToolbarStyles();\r\n  const [openNewUser, setOpenNewUser] = useState(false);\r\n\r\n  return (\r\n    <Toolbar className={classes.root}>\r\n      <h2 className=\"users-table__title\">{t('UsersList')}</h2>\r\n\r\n      <>\r\n        <Tooltip title={t('AddNewUser')}>\r\n          <IconButton\r\n            className=\"new_user-btn\"\r\n            aria-label=\"add new user\"\r\n            onClick={() => {\r\n              setOpenNewUser(true);\r\n            }}>\r\n            <PersonAddIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <AddNewUserDialog\r\n          isOpen={openNewUser}\r\n          onClose={() => setOpenNewUser(false)}\r\n          roles={roles}\r\n          updateUsers={updateUsers}\r\n        />\r\n      </>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    //margin: '0 auto',\r\n  },\r\n  table: {\r\n    width: '100%',\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: 'rect(0 0 0 0)',\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: 'hidden',\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function EnhancedTable({ data, roles, updateUsers }) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = useState('asc');\r\n  const [orderBy, setOrderBy] = useState(null);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n  const [isEditing, setEditing] = useState(null);\r\n  const [role, setRole] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n  const [deletableUser, setDeletableUser] = useState(null);\r\n  const { t } = useTranslation(['admin', 'roles', 'notifications']);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const setRange = () => {\r\n    if (data) {\r\n      let array = [];\r\n      const count = Math.floor(data.length / 5);\r\n\r\n      for (let index = 1; index < count + 1; index++) {\r\n        array.push(5 * index);\r\n      }\r\n      data.length !== array[array.length - 1] && array.push(data.length);\r\n      return array;\r\n    }\r\n  };\r\n\r\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage);\r\n\r\n  const handleDelete = async (id) => {\r\n    await deleteUser(id)\r\n      .then(() => {\r\n        notifyAdmin('User delete success');\r\n        setOpen(false);\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyAdmin('Network Error');\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyAdmin('400');\r\n        } else {\r\n          notifyAdmin('User delete failed');\r\n        }\r\n      });\r\n    updateUsers();\r\n  };\r\n\r\n  const handleChangeRole = async (id, item) => {\r\n    if (role === roles.indexOf(item.role)) {\r\n      setEditing(null);\r\n      return;\r\n    }\r\n\r\n    await changeUserRole({\r\n      id: item.id,\r\n      firstName: item.firstName,\r\n      lastName: item.lastName,\r\n      userName: item.userName,\r\n      email: item.email,\r\n      role: roles[role],\r\n    })\r\n      .then(() => {\r\n        notifyAdmin('Role changed success');\r\n        setEditing(false);\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyAdmin('Network Error');\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyAdmin('400');\r\n        } else {\r\n          notifyAdmin('Role changed failed');\r\n        }\r\n      });\r\n    updateUsers();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <EnhancedTableToolbar roles={roles} updateUsers={updateUsers} t={t} />\r\n\r\n      <TableContainer>\r\n        <Table\r\n          className={classes.table}\r\n          aria-labelledby=\"tableTitle\"\r\n          size={'medium'}\r\n          aria-label=\"enhanced table\">\r\n          <EnhancedTableHead\r\n            classes={classes}\r\n            order={order}\r\n            orderBy={orderBy}\r\n            onRequestSort={handleRequestSort}\r\n            rowCount={data.length}\r\n            t={t}\r\n          />\r\n          <TableBody>\r\n            {stableSort(data, getComparator(order, orderBy))\r\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              .map((item, index) => {\r\n                const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                return (\r\n                  <TableRow\r\n                    className=\"admin__users-table-row\"\r\n                    hover\r\n                    role=\"checkbox\"\r\n                    tabIndex={-1}\r\n                    key={item.id}>\r\n                    <TableCell padding=\"checkbox\">\r\n                      <Tooltip title={t('Delete')}>\r\n                        <IconButton\r\n                          className=\"delete-icon\"\r\n                          aria-label=\"delete\"\r\n                          onClick={() => {\r\n                            setDeletableUser([item.id, item.firstName.concat(' ', item.lastName)]);\r\n                            setOpen(true);\r\n                          }}>\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </TableCell>\r\n                    <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\r\n                      {item.firstName ? item.firstName.concat(' ', item.lastName) : ''}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">{item.userName}</TableCell>\r\n                    <TableCell align=\"center\">{item.email}</TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {isEditing === item.id ? (\r\n                        <FormControl>\r\n                          <InputLabel>{t('roles:Role')}</InputLabel>\r\n                          <Select\r\n                            value={role}\r\n                            onChange={(event) => {\r\n                              setRole(event.target.value);\r\n                            }}>\r\n                            {roles.map((obj, idx) => (\r\n                              <MenuItem key={`key-${idx}-name${obj}`} value={idx}>\r\n                                {t('roles:' + obj)}\r\n                              </MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                      ) : (\r\n                        t('roles:' + item.role)\r\n                      )}\r\n                    </TableCell>\r\n\r\n                    <TableCell align=\"center\">\r\n                      {isEditing === item.id ? (\r\n                        <div className=\"row\">\r\n                          <Button\r\n                            className=\"users-table__ok-btn\"\r\n                            variant=\"contained\"\r\n                            onClick={() => {\r\n                              handleChangeRole(item.id, item);\r\n                            }}>\r\n                            {t('Ok')}\r\n                          </Button>\r\n                          <Button\r\n                            className=\"users-table__cancel-btn\"\r\n                            variant=\"contained\"\r\n                            onClick={() => {\r\n                              setEditing(null);\r\n                            }}>\r\n                            {t('Cancel')}\r\n                          </Button>\r\n                        </div>\r\n                      ) : (\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          onClick={() => {\r\n                            setEditing(item.id);\r\n                            setRole(item.role === 'Employee' ? 0 : 1);\r\n                          }}>\r\n                          {t('Edit')}\r\n                        </Button>\r\n                      )}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            {emptyRows > 0 && (\r\n              <TableRow style={{ height: 33 * emptyRows }}>\r\n                <TableCell colSpan={6} />\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n        <TablePagination\r\n          rowsPerPageOptions={setRange()}\r\n          component=\"div\"\r\n          count={data.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          labelRowsPerPage={t('LabelRowsPerPage')}\r\n          labelDisplayedRows={({ from, to, count }) =>\r\n            t('LabelDisplayedRows', { from: from, to: to, count: count })\r\n          }\r\n          onChangePage={handleChangePage}\r\n          onChangeRowsPerPage={handleChangeRowsPerPage}\r\n        />\r\n      </TableContainer>\r\n      <ConfirmationDialog\r\n        isOpen={open}\r\n        onClose={() => setOpen(false)}\r\n        onDelete={handleDelete}\r\n        user={deletableUser}\r\n      />\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { TextField, FormControl, InputLabel, Select, MenuItem, Button } from '@material-ui/core';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport { getUsers } from '../components/Axios';\r\nimport { Context } from '../Context';\r\nimport UsersTable from '../components/Admin/UsersTable';\r\nimport { notifyAdmin } from '../notifications';\r\n\r\nfunction Admin() {\r\n  const [isLoading, setLoading] = useState(true);\r\n  const [data, setData] = useState(null);\r\n  const [filter, setFilter] = useState('');\r\n  const [role, setRole] = useState(-1);\r\n  const [context, setContext] = useContext(Context);\r\n  const { t } = useTranslation(['admin', 'roles', 'notifications']);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (context.role !== 'Admin') {\r\n      history.replace('/home');\r\n      return;\r\n    }\r\n\r\n    handleGetUsers();\r\n  }, []);\r\n\r\n  const handleGetUsers = async () => {\r\n    setLoading(true);\r\n    const filterRole = role === -1 ? '' : roles[role];\r\n    await getUsers(filter, filterRole)\r\n      .then(({ data }) => {\r\n        const filteredData = data.filter(\r\n          (item) => item.role !== 'Admin' && item.role !== 'Accountant',\r\n        );\r\n        setData(filteredData);\r\n      })\r\n      .catch((err) => {\r\n        if (err.message === 'Network Error') {\r\n          notifyAdmin('Network Error');\r\n        } else if (err.response && err.response.status === 400) {\r\n          notifyAdmin('400');\r\n        } else {\r\n          notifyAdmin();\r\n        }\r\n      });\r\n    setLoading(false);\r\n  };\r\n\r\n  const roles = ['Employee', 'Manager'];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"admin__form\">\r\n        <TextField\r\n          label={t('FilterByName')}\r\n          variant=\"standard\"\r\n          className=\"admin__form-input\"\r\n          onChange={(e) => setFilter(e.target.value)}\r\n        />\r\n        <FormControl className=\"admin__filter-role\">\r\n          <InputLabel>{t('FilterByRole')}</InputLabel>\r\n          <Select\r\n            value={role}\r\n            onChange={(event) => {\r\n              setRole(event.target.value);\r\n            }}>\r\n            <MenuItem value={-1}>{t('Any')}</MenuItem>\r\n            {roles.map((obj, idx) => (\r\n              <MenuItem key={`key-${idx}-name${obj}`} value={idx}>\r\n                {t('roles:' + obj)}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          className=\"filter__btn\"\r\n          onClick={() => handleGetUsers()}>\r\n          {t('Filter')}\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"users__content\">\r\n        {!isLoading ? (\r\n          <UsersTable data={data} roles={roles} updateUsers={handleGetUsers} />\r\n        ) : (\r\n          <CircularProgress />\r\n        )}\r\n      </div>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(Admin);\r\n","import React, { useState } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport Header from './components/Header';\r\nimport User from './pages/User';\r\nimport Login from './pages/Login';\r\nimport Admin from './pages/Admin';\r\n\r\nimport { Context, Users } from './Context';\r\n\r\n//only for external Header  user check\r\nconst role = localStorage.getItem('role');\r\nconst token = localStorage.getItem('token');\r\nconst userId = localStorage.getItem('userId');\r\nconst user = localStorage.getItem('user');\r\n\r\nfunction App() {\r\n  const [context, setContext] = useState({ userId, user, role, token });\r\n  const [users, setUsers] = useState(null);\r\n  return (\r\n    <Users.Provider value={[users, setUsers]}>\r\n      <Context.Provider value={[context, setContext]}>\r\n        <div>\r\n          <Header />\r\n          <Switch>\r\n            <Route path=\"/login\" exact>\r\n              <Login />\r\n            </Route>\r\n            <Route path=\"/admin\" exact>\r\n              <Admin />\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <User />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </Context.Provider>\r\n    </Users.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React, { Suspense } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport './i18n';\r\n\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport './scss/app.scss';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Suspense fallback=\"Loading translation\">\r\n      <App />\r\n    </Suspense>\r\n  </Router>,\r\n  document.getElementById('root'),\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}